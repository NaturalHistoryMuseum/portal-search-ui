var ts=Object.defineProperty;var rs=(r,e,t)=>e in r?ts(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var se=(r,e,t)=>(rs(r,typeof e!="symbol"?e+"":e,t),t);import{e as ir,r as M,m as or,i as ss,w as _t,a as ns,b as Ie,c as ar,t as is,h as os,g as cr,o as lr,n as as,d as cs,f as A,j as ls,p as ot,k as us,l as hs,q as fs,s as ds,u as ps,v as ys,x as ms,y as j,z,A as T,F as at,B as Nt,C as ct,D as Dt,E as Pe,G as oe,H as ur,I as J,J as ze,K as ke,L as gs,M as He,N as Ue,O as bs,P as ws,_ as vs,Q as $s}from"./vendor-8e2b0e7f.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();var _s=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let hr;const Te=r=>hr=r,fr=Symbol();function lt(r){return r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"&&typeof r.toJSON!="function"}var me;(function(r){r.direct="direct",r.patchObject="patch object",r.patchFunction="patch function"})(me||(me={}));function Os(){const r=ir(!0),e=r.run(()=>M({}));let t=[],s=[];const n=or({install(i){Te(n),n._a=i,i.provide(fr,n),i.config.globalProperties.$pinia=n,s.forEach(o=>t.push(o)),s=[]},use(i){return!this._a&&!_s?s.push(i):t.push(i),this},_p:t,_a:null,_e:r,_s:new Map,state:e});return n}const dr=()=>{};function Ft(r,e,t,s=dr){r.push(e);const n=()=>{const i=r.indexOf(e);i>-1&&(r.splice(i,1),s())};return!t&&cr()&&lr(n),n}function ne(r,...e){r.slice().forEach(t=>{t(...e)})}const Ss=r=>r();function ut(r,e){r instanceof Map&&e instanceof Map&&e.forEach((t,s)=>r.set(s,t)),r instanceof Set&&e instanceof Set&&e.forEach(r.add,r);for(const t in e){if(!e.hasOwnProperty(t))continue;const s=e[t],n=r[t];lt(n)&&lt(s)&&r.hasOwnProperty(t)&&!Ie(s)&&!ar(s)?r[t]=ut(n,s):r[t]=s}return r}const Rs=Symbol();function Es(r){return!lt(r)||!r.hasOwnProperty(Rs)}const{assign:Z}=Object;function Is(r){return!!(Ie(r)&&r.effect)}function Ps(r,e,t,s){const{state:n,actions:i,getters:o}=e,a=t.state.value[r];let c;function u(){a||(t.state.value[r]=n?n():{});const l=cs(t.state.value[r]);return Z(l,i,Object.keys(o||{}).reduce((f,p)=>(f[p]=or(A(()=>{Te(t);const y=t._s.get(r);return o[p].call(y,y)})),f),{}))}return c=pr(r,u,e,t,s,!0),c}function pr(r,e,t={},s,n,i){let o;const a=Z({actions:{}},t),c={deep:!0};let u,l,f=[],p=[],y;const d=s.state.value[r];!i&&!d&&(s.state.value[r]={}),M({});let m;function E(P){let O;u=l=!1,typeof P=="function"?(P(s.state.value[r]),O={type:me.patchFunction,storeId:r,events:y}):(ut(s.state.value[r],P),O={type:me.patchObject,payload:P,storeId:r,events:y});const H=m=Symbol();as().then(()=>{m===H&&(u=!0)}),l=!0,ne(f,O,s.state.value[r])}const g=i?function(){const{state:O}=t,H=O?O():{};this.$patch(ee=>{Z(ee,H)})}:dr;function b(){o.stop(),f=[],p=[],s._s.delete(r)}function I(P,O){return function(){Te(s);const H=Array.from(arguments),ee=[],le=[];function Yr(L){ee.push(L)}function es(L){le.push(L)}ne(p,{args:H,name:P,store:v,after:Yr,onError:es});let ue;try{ue=O.apply(this&&this.$id===r?this:v,H)}catch(L){throw ne(le,L),L}return ue instanceof Promise?ue.then(L=>(ne(ee,L),L)).catch(L=>(ne(le,L),Promise.reject(L))):(ne(ee,ue),ue)}}const D={_p:s,$id:r,$onAction:Ft.bind(null,p),$patch:E,$reset:g,$subscribe(P,O={}){const H=Ft(f,P,O.detached,()=>ee()),ee=o.run(()=>_t(()=>s.state.value[r],le=>{(O.flush==="sync"?l:u)&&P({storeId:r,type:me.direct,events:y},le)},Z({},c,O)));return H},$dispose:b},v=ns(D);s._s.set(r,v);const C=s._a&&s._a.runWithContext||Ss,_=s._e.run(()=>(o=ir(),C(()=>o.run(e))));for(const P in _){const O=_[P];if(Ie(O)&&!Is(O)||ar(O))i||(d&&Es(O)&&(Ie(O)?O.value=d[P]:ut(O,d[P])),s.state.value[r][P]=O);else if(typeof O=="function"){const H=I(P,O);_[P]=H,a.actions[P]=O}}return Z(v,_),Z(is(v),_),Object.defineProperty(v,"$state",{get:()=>s.state.value[r],set:P=>{E(O=>{Z(O,P)})}}),s._p.forEach(P=>{Z(v,o.run(()=>P({store:v,app:s._a,pinia:s,options:a})))}),d&&i&&t.hydrate&&t.hydrate(v.$state,d),u=!0,l=!0,v}function yr(r,e,t){let s,n;const i=typeof e=="function";typeof r=="string"?(s=r,n=i?t:e):(n=r,s=r.id);function o(a,c){const u=os();return a=a||(u?ss(fr,null):null),a&&Te(a),a=hr,a._s.has(s)||(i?pr(s,e,n,a):Ps(s,n,a)),a._s.get(s)}return o.$id=s,o}function As(r,e,t){switch(t){case">":return r>e;case">=":return r>=e;case"<":return r<e;case"<=":return r<=e;case"=":return r===e;case"!=":return r!==e;default:return r===e}}function ht(r){return r==null}function S(r){return Array.isArray(r)}function qe(r){return typeof r=="function"}function he(r){return xs(r)===0}function xs(r){return S(r)?r.length:Object.keys(r).length}function Cs(r,e,t,s="SORT_REGULAR"){let n=-1;const i=r.map(o=>({criteria:e.map(c=>typeof c=="function"?c(o):o[c]),index:++n,value:o}));return Ts(i,(o,a)=>Ks(o,a,t,s))}function Ts(r,e){let t=r.length;r.sort(e);const s=[];for(;t--;)s[t]=r[t].value;return s}function Ks(r,e,t,s){let n=-1;const i=r.criteria,o=e.criteria,a=i.length;for(;++n<a;){const c=Ns(i[n],o[n],s);if(c){const u=t[n];return c*(u==="desc"?-1:1)}}return r.index-e.index}function Ns(r,e,t){if(r!==e){const s=r!==void 0,n=r===null,i=r===r,o=e!==void 0,a=e===null;return(typeof r!="number"||typeof e!="number")&&(r=String(r),e=String(e),t==="SORT_FLAG_CASE"&&(r=r.toUpperCase(),e=e.toUpperCase())),!a&&r>e||n&&o||!s||!i?1:-1}return 0}function Ds(r,e){return r.reduce((t,s)=>{const n=e(s);return t[n]===void 0&&(t[n]=[]),t[n].push(s),t},{})}function Ke(r){throw new Error(["[Pinia ORM]"].concat(r).join(" "))}function ge(r,e){r||Ke(e)}function Fs(r,e){let t="",s=r;for(;s--;)t+=e[Math.random()*64|0];return t}function Ms(r,e){const s=JSON.stringify(e?{key:r,params:e}:{key:r});return typeof process>"u"?btoa(s):s}function ft(r,e){if(r===e)return!0;if(r instanceof Date&&e instanceof Date)return r.getTime()===e.getTime();if(!r||!e||typeof r!="object"&&typeof e!="object")return r===e;if(r.prototype!==e.prototype)return!1;const t=Object.keys(r);return t.length!==Object.keys(e).length?!1:t.every(s=>ft(r[s],e[s]))}class Ls{constructor(e,t={},s={}){if(!e||typeof e!="string")throw new Error(`Expected a string key for Entity, but found ${e}.`);const{idAttribute:n="id",mergeStrategy:i=(a,c)=>({...a,...c}),processStrategy:o=a=>({...a})}=s;this._key=e,this._getId=n,this._mergeStrategy=i,this._processStrategy=o,this.define(t)}get key(){return this._key}define(e){this.schema=Object.keys(e).reduce((t,s)=>{const n=e[s];return{...t,[s]:n}},this.schema||{})}getId(e,t,s){return this._getId(e,t,s)}merge(e,t){return this._mergeStrategy(e,t)}normalize(e,t,s,n,i,o){const a=this.getId(e,t,s),c=this.key;if(c in o||(o[c]={}),a in o[c]||(o[c][a]=[]),o[c][a].includes(e))return a;o[c][a].push(e);const u=this._processStrategy(e,t,s);return Object.keys(this.schema).forEach(l=>{if(u.hasOwnProperty(l)&&typeof u[l]=="object"){const f=this.schema[l],p=typeof f=="function"?f(e):f;u[l]=n(u[l],u,l,p,i,o)}}),i(this,u,e,t,s),a}}class mr{constructor(e,t){t&&(this._schemaAttribute=typeof t=="string"?s=>s[t]:t),this.define(e)}get isSingleSchema(){return!this._schemaAttribute}define(e){this.schema=e}getSchemaAttribute(e,t,s){return!this.isSingleSchema&&this._schemaAttribute(e,t,s)}inferSchema(e,t,s){if(this.isSingleSchema)return this.schema;const n=this.getSchemaAttribute(e,t,s);return this.schema[n]}normalizeValue(e,t,s,n,i,o){const a=this.inferSchema(e,t,s);if(!a)return e;const c=n(e,t,s,a,i,o);return this.isSingleSchema||c===void 0||c===null?c:{id:c,schema:this.getSchemaAttribute(e,t,s)}}}class Bs extends mr{constructor(e,t){if(!t)throw new Error('Expected option "schemaAttribute" not found on UnionSchema.');super(e,t)}normalize(e,t,s,n,i,o){return this.normalizeValue(e,t,s,n,i,o)}}const js=r=>{if(Array.isArray(r)&&r.length>1)throw new Error(`Expected schema definition to be a single schema, but found ${r.length}.`);return r[0]},gr=r=>Array.isArray(r)?r:Object.keys(r).map(e=>r[e]),zs=(r,e,t,s,n,i,o)=>gr(e).map(a=>n(a,t,s,js(r),i,o));class ks extends mr{normalize(e,t,s,n,i,o){return gr(e).map(a=>this.normalizeValue(a,t,s,n,i,o)).filter(a=>a!=null)}}const Hs=(r,e,t,s,n,i,o)=>{const a={...e};return Object.keys(r).forEach(c=>{const u=r[c],l=typeof u=="function"?u(e):u,f=n(e[c],e,c,l,i,o);f==null?delete a[c]:a[c]=f}),a},dt=(r,e,t,s,n,i)=>typeof r!="object"||!r?r:typeof s=="object"&&(!s.normalize||typeof s.normalize!="function")?(Array.isArray(s)?zs:Hs)(s,r,e,t,dt,n,i):s.normalize(r,e,t,dt,n,i),Us=r=>(e,t,s,n,i)=>{const o=e.key,a=e.getId(s,n,i);o in r||(r[o]={}),r[o][a]=r[o][a]?e.merge(r[o][a],t):t},We={Array:ks,Entity:Ls,Union:Bs},qs=(r,e)=>{if(!r||typeof r!="object")throw new Error(`Unexpected input given to normalize. Expected type to be "object", found "${r===null?"null":typeof r}".`);const t={},s=Us(t),i=dt(r,r,null,e,s,{});return{entities:t,result:i}};var Ws=Object.defineProperty,Vs=(r,e,t)=>e in r?Ws(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ot=(r,e,t)=>(Vs(r,typeof e!="symbol"?e+"":e,t),t);class br{constructor(e){Ot(this,"$parameters",{}),this.$self().attributes=e,this.$parameters={...this.$parameters,...this.$self().parameters}}get(e){return e}set(e){return e}static withParameters(e){return this.parameters=e,this}getParameters(){return this.$parameters}$self(){return this.constructor}static newRawInstance(e){return new this(e)}}Ot(br,"attributes");Ot(br,"parameters");var Js=Object.defineProperty,Qs=(r,e,t)=>e in r?Js(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Mt=(r,e,t)=>(Qs(r,typeof e!="symbol"?e+"":e,t),t);class wr{constructor(e){Mt(this,"model"),Mt(this,"key"),this.model=e,this.key=""}setKey(e){return this.key=e,this}}var Gs=Object.defineProperty,Xs=(r,e,t)=>e in r?Gs(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ve=(r,e,t)=>(Xs(r,typeof e!="symbol"?e+"":e,t),t);class K extends wr{constructor(e,t){super(e),Ve(this,"parent"),Ve(this,"related"),Ve(this,"onDeleteMode"),this.parent=e,this.related=t}getRelated(){return this.related}getKeys(e,t){return e.map(s=>s[t])}onDelete(e){return this.onDeleteMode=e,this}mapToDictionary(e,t){return e.reduce((s,n)=>{const[i,o]=t(n);return s[i]||(s[i]=[]),s[i].push(o),s},{})}compositeKeyMapper(e,t,s){S(e)&&S(t)?e.forEach((n,i)=>{s(n,t[i])}):!S(t)&&!S(e)?s(e,t):Ke(["This relation cant be resolve. Either child or parent doesnt have different key types (composite)",JSON.stringify(e),JSON.stringify(t)])}getKey(e){return S(e)?`[${e.join(",")}]`:e}}var Zs=Object.defineProperty,Ys=(r,e,t)=>e in r?Zs(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,fe=(r,e,t)=>(Ys(r,typeof e!="symbol"?e+"":e,t),t);class pt extends K{constructor(e,t,s,n,i){super(e,e),fe(this,"relatedModels"),fe(this,"relatedTypes"),fe(this,"morphId"),fe(this,"morphType"),fe(this,"ownerKey"),this.relatedModels=t,this.relatedTypes=this.createRelatedTypes(t),this.morphId=s,this.morphType=n,this.ownerKey=i}createRelatedTypes(e){return e.reduce((t,s)=>(t[s.$entity()]=s,t),{})}getType(){return this.morphType}getRelateds(){return this.relatedModels}define(e){return e.union(this.relatedModels,(t,s,n)=>{const i=s[this.morphType],o=this.relatedTypes[i],a=this.ownerKey||o.$getKeyName();return s[this.morphId]=t[a],i})}attach(e,t){}addEagerConstraints(e,t){}match(e,t,s){const n=this.buildDictionary(s,t);t.forEach(i=>{var u;const o=i[this.morphType],a=i[this.morphId],c=((u=n[o])==null?void 0:u[a])??null;i.$setRelation(e,c)})}make(e,t){return!e||!t?null:this.relatedTypes[t].$newInstance(e)}buildDictionary(e,t){const s=this.getKeysByEntity(t),n={};for(const i in s){const o=this.relatedTypes[i];ge(!!o,[`Trying to load "morph to" relation of \`${i}\``,"but the model could not be found."]);const a=this.ownerKey||o.$getKeyName(),c=e.newQueryWithConstraints(i).whereIn(a,s[i]).get(!1);n[i]=c.reduce((u,l)=>(u[l[a]]=l,u),{})}return n}getKeysByEntity(e){return e.reduce((t,s)=>{const n=s[this.morphType],i=s[this.morphId];return i!==null&&this.relatedTypes[n]!==void 0&&(t[n]||(t[n]=[]),t[n].push(i)),t},{})}}var en=Object.defineProperty,tn=(r,e,t)=>e in r?en(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Lt=(r,e,t)=>(tn(r,typeof e!="symbol"?e+"":e,t),t);class $e extends wr{constructor(e,t=null){super(e),Lt(this,"value"),Lt(this,"isNullable",!0),this.value=typeof t=="function"?t():t}notNullable(){return this.isNullable=!1,this}makeReturn(e,t){return t===void 0?this.value:t===null?(this.isNullable||this.throwWarning(["is set as non nullable!"]),t):(typeof t!==e&&this.throwWarning([t,"is not a",e]),t)}throwWarning(e){console.warn(["[Pinia ORM]"].concat([`Field ${this.model.$entity()}:${this.key} - `,...e]).join(" "))}}var rn=Object.defineProperty,sn=(r,e,t)=>e in r?rn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Je=(r,e,t)=>(sn(r,typeof e!="symbol"?e+"":e,t),t);class vr extends $e{constructor(e,t={}){super(e),Je(this,"options"),Je(this,"alphabet","useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"),Je(this,"size",21),this.options=typeof t=="number"?{size:t}:t,this.alphabet=this.options.alphabet??this.alphabet,this.size=this.options.size??this.size}make(e){const t=this.model.$casts()[this.model.$getKeyName()];return t?e??t.withParameters(this.options).newRawInstance(this.model.$fields()).set(e):e??Fs(this.size,this.alphabet)}}var nn=Object.defineProperty,on=(r,e,t)=>e in r?nn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Bt=(r,e,t)=>(on(r,typeof e!="symbol"?e+"":e,t),t);class an{constructor(e){Bt(this,"schemas",{}),Bt(this,"model"),this.model=e}one(e,t){e=e||this.model,t=t||this.model;const s=`${e.$entity()}${t.$entity()}`;if(this.schemas[s])return this.schemas[s];const n=this.newEntity(e,t);this.schemas[s]=n;const i=this.definition(e);return n.define(i),n}many(e,t){return new We.Array(this.one(e,t))}union(e,t){const s=e.reduce((n,i)=>(n[i.$entity()]=this.one(i),n),{});return new We.Union(s,t)}newEntity(e,t){const s=e.$entity(),n=this.idAttribute(e,t);return new We.Entity(s,{},{idAttribute:n})}idAttribute(e,t){const s=this.getUidPrimaryKeyPairs(e);return(n,i,o)=>{var c,u,l;o!==null&&((c=t.$fields()[o])==null||c.attach(i,n));for(const f in s)ht(n[f])&&(n[f]=s[f].setKey(f).make(n[f]));return["BelongsTo","HasOne","MorphOne","MorphTo"].includes(((u=t.$fields()[o])==null?void 0:u.constructor.name)??"")&&S(i[o])&&Ke(['You are passing a list to "',`${t.$entity()}.${o}`,`" which is a one to one Relation(${(l=t.$fields()[o])==null?void 0:l.constructor.name}):`,JSON.stringify(i[o])]),e.$getIndexId(n)}}getUidPrimaryKeyPairs(e){const t=e.$fields(),s=e.$getKeyName(),n=S(s)?s:[s],i={};return n.forEach(o=>{const a=t[o];a instanceof vr&&(i[o]=a)}),i}definition(e){const t=e.$fields(),s={};for(const n in t){const i=t[n];i instanceof K&&(s[n]=i.define(this))}return s}}var cn=Object.defineProperty,ln=(r,e,t)=>e in r?cn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,un=(r,e,t)=>(ln(r,typeof e!="symbol"?e+"":e,t),t);class hn{constructor(e){un(this,"model"),this.model=e}process(e){const t=this.normalize(e);return[e,t]}normalize(e){const t=S(e)?[this.getSchema()]:this.getSchema();return qs(e,t).entities}getSchema(){return new an(this.model).one()}}function fn(r){return{save(e,t=!0){Object.assign(this.data,e),t&&r&&r.newQuery(this.$id).save(Object.values(e))},insert(e,t=!0){Object.assign(this.data,e),t&&r&&r.newQuery(this.$id).insert(Object.values(e))},update(e,t=!0){Object.assign(this.data,e),t&&r&&r.newQuery(this.$id).update(Object.values(e))},fresh(e,t=!0){this.data=e,t&&r&&r.newQuery(this.$id).fresh(Object.values(e))},destroy(e,t=!0){t&&r?r.newQuery(this.$id).newQuery(this.$id).destroy(e):e.forEach(s=>delete this.data[s])},delete(e,t=!0){t&&r?r.whereId(e).delete():e.forEach(s=>delete this.data[s])},flush(e,t=!0){this.data={},t&&r&&r.newQuery(this.$id).flush()}}}function $r(r,e,t){return yr(r,{state:()=>({data:{}}),actions:fn(t),...e})}var dn=Object.defineProperty,pn=(r,e,t)=>e in r?dn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ie=(r,e,t)=>(pn(r,typeof e!="symbol"?e+"":e,t),t);class _r extends K{constructor(e,t,s,n,i,o,a){super(e,t),ie(this,"pivot"),ie(this,"foreignPivotKey"),ie(this,"relatedPivotKey"),ie(this,"parentKey"),ie(this,"relatedKey"),ie(this,"pivotKey","pivot"),this.pivot=s,this.foreignPivotKey=n,this.relatedPivotKey=i,this.parentKey=o,this.relatedKey=a}getRelateds(){return[this.related,this.pivot]}define(e){return e.many(this.related,this.parent)}attach(e,t){const s=t.pivot??{};s[this.foreignPivotKey]=e[this.parentKey],s[this.relatedPivotKey]=t[this.relatedKey],t[`pivot_${this.pivot.$entity()}`]=s}make(e){return e?e.map(t=>this.related.$newInstance(t)):[]}match(e,t,s){const n=s.get(!1),i=s.newQuery(this.pivot.$entity()).whereIn(this.relatedPivotKey,this.getKeys(n,this.relatedKey)).whereIn(this.foreignPivotKey,this.getKeys(t,this.parentKey)).groupBy(this.foreignPivotKey,this.relatedPivotKey).get();t.forEach(o=>{const a=[];n.forEach(c=>{var f;const u=((f=i[`[${o[this.parentKey]},${c[this.relatedKey]}]`])==null?void 0:f[0])??null,l=c.$newInstance(c.$toJson());l.$setRelation("pivot",u),u&&a.push(l)}),o.$setRelation(e,a)})}addEagerConstraints(e,t){}}var yn=Object.defineProperty,mn=(r,e,t)=>e in r?yn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,N=(r,e,t)=>(mn(r,typeof e!="symbol"?e+"":e,t),t);class be{constructor(e,t,s,n,i){N(this,"database"),N(this,"model"),N(this,"wheres",[]),N(this,"orders",[]),N(this,"groups",[]),N(this,"take",null),N(this,"skip",0),N(this,"visible",["*"]),N(this,"hidden",[]),N(this,"cache"),N(this,"eagerLoad",{}),N(this,"pinia"),N(this,"fromCache",!1),N(this,"cacheConfig",{}),N(this,"getNewHydrated",!1),N(this,"hydratedDataCache"),this.database=e,this.model=t,this.pinia=i,this.cache=s,this.hydratedDataCache=n,this.getNewHydrated=!1}newQuery(e){return this.getNewHydrated=!0,new be(this.database,this.database.getModel(e),this.cache,this.hydratedDataCache,this.pinia)}newQueryWithConstraints(e){const t=new be(this.database,this.database.getModel(e),this.cache,this.hydratedDataCache,this.pinia);return t.eagerLoad={...this.eagerLoad},t.wheres=[...this.wheres],t.orders=[...this.orders],t.take=this.take,t.skip=this.skip,t.fromCache=this.fromCache,t.cacheConfig=this.cacheConfig,t}newQueryForRelation(e){return new be(this.database,e.getRelated(),this.cache,new Map,this.pinia)}newInterpreter(){return new hn(this.model)}commit(e,t){const s=$r(this.model.$storeName(),this.model.$piniaOptions(),this)(this.pinia);return e&&typeof s[e]=="function"&&s[e](t,!1),this.cache&&["get","all","insert","flush","delete","update","destroy"].includes(e)&&this.cache.clear(),s.$state.data}withMeta(){return this.makeVisible(["_meta"])}makeVisible(e){return this.visible=e,this.getNewHydrated=!0,this}makeHidden(e){return this.hidden=e,this.getNewHydrated=!0,this}where(e,t){return this.wheres.push({field:e,value:t,boolean:"and"}),this}whereIn(e,t){return t instanceof Set&&(t=Array.from(t)),this.wheres.push({field:e,value:t,boolean:"and"}),this}whereId(e){return this.where(this.model.$getKeyName(),e)}orWhere(e,t){return this.wheres.push({field:e,value:t,boolean:"or"}),this}whereHas(e,t=()=>{},s,n){return this.where(this.getFieldWhereForRelations(e,t,s,n))}orWhereHas(e,t=()=>{},s,n){return this.orWhere(this.getFieldWhereForRelations(e,t,s,n))}has(e,t,s){return this.where(this.getFieldWhereForRelations(e,()=>{},t,s))}orHas(e,t,s){return this.orWhere(this.getFieldWhereForRelations(e,()=>{},t,s))}doesntHave(e){return this.where(this.getFieldWhereForRelations(e,()=>{},"=",0))}orDoesntHave(e){return this.orWhere(this.getFieldWhereForRelations(e,()=>{},"=",0))}whereDoesntHave(e,t=()=>{}){return this.where(this.getFieldWhereForRelations(e,t,"=",0))}orWhereDoesntHave(e,t=()=>{}){return this.orWhere(this.getFieldWhereForRelations(e,t,"=",0))}groupBy(...e){return e.forEach(t=>{this.groups.push({field:t})}),this}orderBy(e,t="asc"){return this.orders.push({field:e,direction:t}),this}limit(e){return this.take=e,this}offset(e){return this.skip=e,this}with(e,t=()=>{}){return this.getNewHydrated=!0,this.eagerLoad[e]=t,this}withAll(e=()=>{}){let t=this.model.$fields();Object.values(this.model.$types()).forEach(n=>{t={...t,...n.fields()}});for(const n in t)t[n]instanceof K&&this.with(n,e);return this}withAllRecursive(e=3){return this.withAll(t=>{e>0&&t.withAllRecursive(e-1)})}useCache(e,t){return this.fromCache=!0,this.cacheConfig={key:e,params:t},this}getFieldWhereForRelations(e,t=()=>{},s,n){const i=this.newQuery(this.model.$entity()).with(e,t).get(!1).filter(o=>As(S(o[e])?o[e].length:o[e]===null?0:1,typeof s=="number"?s:n??1,typeof s=="number"||n===void 0?">=":s)).map(o=>o.$getIndexId());return o=>i.includes(o.$getIndexId())}storeFind(e=[]){const t=this.commit("all"),s=[],n=new Set(e);return n.size>0?n.forEach(i=>{t[i]&&s.push(this.hydrate(t[i],{visible:this.visible,hidden:this.hidden,operation:"get"}))}):Object.values(t).forEach(i=>s.push(this.hydrate(i,{visible:this.visible,hidden:this.hidden,operation:"get"}))),s}all(){return this.storeFind()}get(e=!0){if(!this.fromCache||!this.cache)return this.internalGet(e);const t=this.cacheConfig.key?this.cacheConfig.key+JSON.stringify(this.cacheConfig.params):Ms(this.model.$entity(),{where:this.wheres,groups:this.groups,orders:this.orders,eagerLoads:this.eagerLoad,skip:this.skip,take:this.take,hidden:this.hidden,visible:this.visible}),s=this.cache.get(t);if(s)return s;const n=this.internalGet(e);return this.cache.set(t,n),n}internalGet(e){this.model.$entity()!==this.model.$baseEntity()&&this.where(this.model.$typeKey(),this.model.$fields()[this.model.$typeKey()].make());const t=this.select();return he(t)||this.eagerLoadRelations(t),e&&t.forEach(s=>s.$self().retrieved(s)),this.groups.length>0?this.filterGroup(t):t}first(){return this.limit(1).get()[0]??null}find(e){return this.whereId(e)[S(e)?"get":"first"]()}select(){let e=[];const t=this.wheres,s=this.wheres.findIndex(i=>i.field===this.model.$getKeyName());if(s>-1){const i=this.wheres[s].value;e=((qe(i)?[]:S(i)?i:[i])||[]).map(String)||[],e.length>0&&(this.wheres=[...this.wheres.slice(0,s),...this.wheres.slice(s+1)])}let n=this.storeFind(e);return n=this.filterWhere(n),n=this.filterOrder(n),n=this.filterLimit(n),this.wheres=t,n}filterWhere(e){if(he(this.wheres))return e;const t=this.getWhereComparator();return e.filter(s=>t(s))}getWhereComparator(){const{and:e,or:t}=Ds(this.wheres,s=>s.boolean);return s=>{const n=[];return e&&n.push(e.every(i=>this.whereComparator(s,i))),t&&n.push(t.some(i=>this.whereComparator(s,i))),n.includes(!0)}}whereComparator(e,t){return qe(t.field)?t.field(e):S(t.value)?t.value.includes(e[t.field]):qe(t.value)?t.value(e[t.field]):e[t.field]===t.value}filterOrder(e){if(this.orders.length===0)return e;const t=this.orders.map(n=>n.field),s=this.orders.map(n=>n.direction);return Cs(e,t,s)}filterGroup(e){const t={},s=this.groups.map(n=>n.field);return e.forEach(n=>{const i=s.length===1?n[s[0]]:`[${s.map(o=>n[o]).toString()}]`;t[i]=(t[i]||[]).concat(n)}),t}filterLimit(e){return this.take!==null?e.slice(this.skip,this.skip+this.take):e.slice(this.skip)}load(e){this.eagerLoadRelations(e)}eagerLoadRelations(e){for(const t in this.eagerLoad)this.eagerLoadRelation(e,t,this.eagerLoad[t])}eagerLoadRelation(e,t,s){const n=this.getRelation(t),i=this.newQueryForRelation(n);n.addEagerConstraints(i,e),s(i),n.match(t,e,i)}getRelation(e){return this.model.$getRelation(e)}revive(e){return S(e)?this.reviveMany(e):this.reviveOne(e)}reviveOne(e){this.getNewHydrated=!1;const t=this.model.$getIndexId(e),s=this.commit("get")[t]??null;if(!s)return null;const n=this.hydrate(s,{visible:this.visible,hidden:this.hidden,operation:"get"});return this.reviveRelations(n,e),n}reviveMany(e){return e.reduce((t,s)=>{const n=this.reviveOne(s);return n&&t.push(n),t},[])}reviveRelations(e,t){const s=this.model.$fields();for(const n in t){const i=s[n];if(!(i instanceof K))continue;const o=t[n];if(!o)return;if(i instanceof pt){const a=e[i.getType()];e[n]=this.newQuery(a).reviveOne(o);continue}e[n]=S(o)?this.newQueryForRelation(i).reviveMany(o):this.newQueryForRelation(i).reviveOne(o)}}new(e=!0){let t=this.hydrate({},{operation:e?"set":"get"});const s=t.$self().creating(t),n=t.$self().saving(t);return s===!1||n===!1?null:(t.$isDirty()&&(t=this.hydrate(t.$getAttributes(),{operation:e?"set":"get"})),e&&(this.hydratedDataCache.set(this.model.$entity()+t.$getKey(void 0,!0),this.hydrate(t.$getAttributes(),{operation:"get"})),t.$self().created(t),t.$self().saved(t),this.commit("insert",this.compile(t))),t)}save(e){let t=this.newInterpreter().process(e);const s=this.model.$types(),n=this.model.$baseEntity()!==this.model.$entity();if(Object.values(s).length>0||n){const a=Object.keys(s),c={};e=S(e)?e:[e],e.forEach(u=>{const l=a.includes(`${u[this.model.$typeKey()]}`)||n?u[this.model.$typeKey()]??this.model.$fields()[this.model.$typeKey()].value:a[0];c[l]||(c[l]=[]),c[l].push(u)});for(const u in c){const l=s[u];l.entity===this.model.$entity()?t=this.newInterpreter().process(c[u]):this.newQueryWithConstraints(l.entity).save(c[u])}}const[i,o]=t;for(const a in o){const c=this.newQuery(a),u=o[a];c.saveElements(u)}return this.revive(i)}saveElements(e){const t={},s=this.commit("all"),n=[];for(const i in e){const o=e[i],a=s[i];let c=a?this.hydrate({...a,...o},{operation:"set",action:"update"}):this.hydrate(o,{operation:"set",action:"save"});const u=c.$self().saving(c,o),l=a?c.$self().updating(c,o):c.$self().creating(c,o);u===!1||l===!1||(c.$isDirty()&&(c=this.hydrate(c.$getAttributes(),{operation:"set",action:a?"update":"save"})),n.push(()=>c.$self().saved(c,o)),n.push(()=>a?c.$self().updated(c,o):c.$self().created(c,o)),t[i]=c.$getAttributes(),Object.values(c.$types()).length>0&&!t[i][c.$typeKey()]&&(t[i][c.$typeKey()]=o[c.$typeKey()]))}Object.keys(t).length>0&&(this.commit("save",t),n.forEach(i=>i()))}insert(e){const t=this.hydrate(e,{operation:"set",action:"insert"});return this.commit("insert",this.compile(t)),t}fresh(e){this.hydratedDataCache.clear();const t=this.hydrate(e,{action:"update"});return this.commit("fresh",this.compile(t)),t}update(e){const t=this.get(!1);if(he(t))return[];const s=t.map(n=>{const i=this.hydrate({...n.$getAttributes(),...e},{action:"update",operation:"set"});return n.$self().updating(n,e)===!1?n:(i.$self().updated(i),i)});return this.commit("update",this.compile(s)),s}destroy(e){return S(e)?this.destroyMany(e):this.destroyOne(e)}destroyOne(e){const t=this.find(e);if(!t)return null;const[s,n]=this.dispatchDeleteHooks(t);return n.includes(t.$getIndexId())||(this.commit("destroy",[t.$getIndexId()]),s.forEach(i=>i())),t}destroyMany(e){const t=this.find(e);if(he(t))return[];const[s,n]=this.dispatchDeleteHooks(t),i=this.getIndexIdsFromCollection(t).filter(o=>!n.includes(o));return this.commit("destroy",i),s.forEach(o=>o()),t}delete(){const e=this.get(!1);if(he(e))return[];const[t,s]=this.dispatchDeleteHooks(e),n=this.getIndexIdsFromCollection(e).filter(i=>!s.includes(i));return this.commit("delete",n),t.forEach(i=>i()),e}flush(){return this.commit("flush"),this.hydratedDataCache.clear(),this.get(!1)}checkAndDeleteRelations(e){const t=e.$fields();for(const s in t){const n=t[s];if(t[s]instanceof K&&n.onDeleteMode&&e[s]){const o=(S(e[s])?e[s]:[e[s]]).map(c=>c.$getKey(void 0,!0)),a={};if(n instanceof _r){this.newQuery(n.pivot.$entity()).where(n.foreignPivotKey,e[e.$getLocalKey()]).delete();continue}switch(n.onDeleteMode){case"cascade":{this.newQueryForRelation(n).destroy(o);break}case"set null":{n.foreignKey&&(a[n.foreignKey]=null),n.morphId&&(a[n.morphId]=null,a[n.morphType]=null),this.newQueryForRelation(n).whereId(o).update(a);break}}}}}dispatchDeleteHooks(e){const t=[],s=[];return e=S(e)?e:[e],this.withAll().load(e),e.forEach(n=>{n.$self().deleting(n)===!1?s.push(n.$getIndexId()):(this.hydratedDataCache.delete(this.model.$entity()+n.$getIndexId()),t.push(()=>n.$self().deleted(n)),this.checkAndDeleteRelations(n))}),[t,s]}getIndexIdsFromCollection(e){return e.map(t=>t.$getIndexId())}hydrate(e,t){return S(e)?e.map(s=>this.hydrate(s,t)):this.getHydratedModel(e,{relations:!1,...t||{}})}compile(e){return(S(e)?e:[e]).reduce((s,n)=>(s[n.$getIndexId()]=n.$getAttributes(),s),{})}getHydratedModel(e,t){const s=this.model.$getKey(e,!0),n=s&&this.hydratedDataCache.get(this.model.$entity()+s);if(!this.getNewHydrated&&(t==null?void 0:t.operation)!=="set"&&n)return n;const i=this.model.$types()[e[this.model.$typeKey()]],o=c=>(i?i.newRawInstance():this.model).$newInstance(e,{relations:!1,...t||{},...c}),a=o();return s&&!this.getNewHydrated&&(t==null?void 0:t.operation)!=="set"&&this.hydratedDataCache.set(this.model.$entity()+s,a),s&&(t==null?void 0:t.action)==="update"&&this.hydratedDataCache.set(this.model.$entity()+s,o({operation:"get"})),a}}var gn=Object.defineProperty,bn=(r,e,t)=>e in r?gn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,wn=(r,e,t)=>(bn(r,typeof e!="symbol"?e+"":e,t),t),vn=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)},U=(r,e,t)=>(vn(r,e,"read from private field"),t?t.call(r):e.get(r)),$n=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},jt,B;class Or{constructor(){wn(this,jt),$n(this,B,new Map)}has(e){var t;return!!(U(this,B).has(e)&&((t=U(this,B).get(e))!=null&&t.deref()))}get(e){const t=U(this,B).get(e);if(!t)return;const s=t.deref();if(s)return s;U(this,B).delete(e)}set(e,t){return U(this,B).set(e,new WeakRef(t)),this}get size(){return U(this,B).size}clear(){U(this,B).clear()}delete(e){return U(this,B).delete(e),!1}forEach(e){for(const[t,s]of this)e(s,t,this)}*[(jt=Symbol.toStringTag,Symbol.iterator)](){for(const[e,t]of U(this,B)){const s=t.deref();if(!s){U(this,B).delete(e);continue}yield[e,s]}}*entries(){for(const[e,t]of this)yield[e,t]}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}}B=new WeakMap;const _n=new Or,On=new Map,yt={model:{namespace:"",withMeta:!1,hidden:["_meta"],visible:["*"]},cache:{shared:!0,provider:Or}},Y={...yt};var Sn=Object.defineProperty,Rn=(r,e,t)=>e in r?Sn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,V=(r,e,t)=>(Rn(r,typeof e!="symbol"?e+"":e,t),t);class St{constructor(e,t){V(this,"database"),V(this,"model"),V(this,"pinia"),V(this,"queryCache"),V(this,"hydratedDataCache"),V(this,"use"),V(this,"config"),this.config=Y,this.database=e,this.pinia=t,this.hydratedDataCache=On}static setModel(e){return this.useModel=e,this}setConfig(e){this.config=e}initialize(e){return this.config.cache&&this.config.cache!==!0&&(this.queryCache=this.config.cache.shared?_n:new this.config.cache.provider),e?(this.model=e.newRawInstance(),this):this.use||this.$self().useModel?(this.use=this.use??this.$self().useModel,this.model=this.use.newRawInstance(),this):this}$self(){return this.constructor}getModel(){return ge(!!this.model,["The model is not registered. Please define the model to be used at","`use` property of the repository class."]),this.model}piniaStore(){return $r(this.model.$storeName(),this.model.$piniaOptions(),this.query())(this.pinia)}repo(e){return re(e)}query(){return new be(this.database,this.getModel(),this.queryCache,this.hydratedDataCache,this.pinia)}cache(){return this.queryCache}where(e,t){return this.query().where(e,t)}orWhere(e,t){return this.query().orWhere(e,t)}whereHas(e,t=()=>{},s,n){return this.query().whereHas(e,t,s,n)}orWhereHas(e,t=()=>{},s,n){return this.query().orWhereHas(e,t,s,n)}has(e,t,s){return this.query().has(e,t,s)}orHas(e,t,s){return this.query().orHas(e,t,s)}doesntHave(e){return this.query().doesntHave(e)}orDoesntHave(e){return this.query().orDoesntHave(e)}whereDoesntHave(e,t=()=>{}){return this.query().whereDoesntHave(e,t)}orWhereDoesntHave(e,t=()=>{}){return this.query().orWhereDoesntHave(e,t)}withMeta(){return this.query().withMeta()}makeVisible(e){return this.query().makeVisible(e)}makeHidden(e){return this.query().makeHidden(e)}groupBy(...e){return this.query().groupBy(...e)}orderBy(e,t){return this.query().orderBy(e,t)}limit(e){return this.query().limit(e)}offset(e){return this.query().offset(e)}with(e,t){return this.query().with(e,t)}withAll(e){return this.query().withAll(e)}withAllRecursive(e){return this.query().withAllRecursive(e)}useCache(e,t){return this.query().useCache(e,t)}all(){return this.query().get()}find(e){return this.query().find(e)}revive(e){return this.query().revive(e)}make(e){return S(e)?e.map(t=>this.getModel().$newInstance(t,{relations:!0})):this.getModel().$newInstance(e,{relations:!0})}save(e){return this.query().save(e)}new(e=!0){return this.query().new(e)}insert(e){return this.query().insert(e)}fresh(e){return this.query().fresh(e)}destroy(e){return this.query().destroy(e)}flush(){return this.query().flush()}}V(St,"_isRepository",!0);V(St,"useModel");var En=Object.defineProperty,In=(r,e,t)=>e in r?En(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Pn=(r,e,t)=>(In(r,typeof e!="symbol"?e+"":e,t),t);class An{constructor(){Pn(this,"models",{})}register(e){const t=e.$entity();this.models[t]||(this.models[t]=e,this.registerRelatedModels(e))}registerRelatedModels(e){const t=e.$fields();for(const s in t){const n=t[s];n instanceof K&&n.getRelateds().forEach(i=>{this.register(i)})}}getModel(e){return this.models[e]}}const Sr=[];function xn(r){let e=Y;return Sr.forEach(t=>{const s=t({config:e,repository:r,model:r.getModel()});e={...e,...s.config}}),r.setConfig(e),r}function re(r,e){const t=new An,s=r._isRepository?new r(t,e).initialize():new St(t,e).initialize(r);try{const n=Object.values(s.getModel().$types());n.length>0?n.forEach(i=>s.database.register(i.newRawInstance())):s.database.register(s.getModel())}catch{}return xn(s)}function Cn(r){Y.model={...yt.model,...r==null?void 0:r.model},Y.cache=(r==null?void 0:r.cache)===!1?!1:{...yt.cache,...(r==null?void 0:r.cache)!==!0&&(r==null?void 0:r.cache)};const e={use(t){return Sr.push(t),this}};return()=>e}class Tn extends $e{make(e){return e===void 0?this.value:e}}let Kn=class extends $e{constructor(e,t){super(e,t)}make(e){return this.makeReturn("string",e)}},Nn=class extends $e{constructor(e,t){super(e,t)}make(e){return this.makeReturn("number",e)}},Dn=class extends $e{constructor(e,t){super(e,t)}make(e){return this.makeReturn("boolean",e)}};var Fn=Object.defineProperty,Mn=(r,e,t)=>e in r?Fn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,zt=(r,e,t)=>(Mn(r,typeof e!="symbol"?e+"":e,t),t);class kt extends K{constructor(e,t,s,n){super(e,t),zt(this,"foreignKey"),zt(this,"localKey"),this.foreignKey=s,this.localKey=n}getRelateds(){return[this.related]}define(e){return e.one(this.related,this.parent)}attach(e,t){this.compositeKeyMapper(this.foreignKey,this.localKey,(s,n)=>{t[s]=e[n]})}addEagerConstraints(e,t){this.compositeKeyMapper(this.foreignKey,this.localKey,(s,n)=>e.whereIn(s,this.getKeys(t,n)))}match(e,t,s){const n=this.buildDictionary(s.get(!1));t.forEach(i=>{const o=i[this.getKey(this.localKey)];n[o]?i.$setRelation(e,n[o][0]):i.$setRelation(e,null)})}buildDictionary(e){return this.mapToDictionary(e,t=>[t[this.getKey(this.foreignKey)],t])}make(e){return e?this.related.$newInstance(e):null}}var Ln=Object.defineProperty,Bn=(r,e,t)=>e in r?Ln(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Qe=(r,e,t)=>(Bn(r,typeof e!="symbol"?e+"":e,t),t);class jn extends K{constructor(e,t,s,n){super(e,t),Qe(this,"child"),Qe(this,"foreignKey"),Qe(this,"ownerKey"),this.foreignKey=s,this.ownerKey=n,this.child=t}getRelateds(){return[this.child]}define(e){return e.one(this.child,this.parent)}attach(e,t){this.compositeKeyMapper(this.foreignKey,this.ownerKey,(s,n)=>{e[s]=t[n]})}addEagerConstraints(e,t){this.compositeKeyMapper(this.foreignKey,this.ownerKey,(s,n)=>e.whereIn(n,this.getEagerModelKeys(t,s)))}getEagerModelKeys(e,t){return e.reduce((s,n)=>(n[t]!==null&&s.push(n[t]),s),[])}match(e,t,s){const n=this.buildDictionary(s.get(!1));t.forEach(i=>{const o=i[this.getKey(this.foreignKey)];n[o]?i.$setRelation(e,n[o]):i.$setRelation(e,null)})}buildDictionary(e){return e.reduce((t,s)=>(t[s[this.getKey(this.ownerKey)]]=s,t),{})}make(e){return e?this.child.$newInstance(e):null}}var zn=Object.defineProperty,kn=(r,e,t)=>e in r?zn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ht=(r,e,t)=>(kn(r,typeof e!="symbol"?e+"":e,t),t);class Hn extends K{constructor(e,t,s,n){super(e,t),Ht(this,"foreignKey"),Ht(this,"localKey"),this.foreignKey=s,this.localKey=n}getRelateds(){return[this.related]}define(e){return e.many(this.related,this.parent)}attach(e,t){this.compositeKeyMapper(this.foreignKey,this.localKey,(s,n)=>{t[s]=e[n]})}addEagerConstraints(e,t){this.compositeKeyMapper(this.foreignKey,this.localKey,(s,n)=>e.whereIn(s,this.getKeys(t,n)))}match(e,t,s){const n=this.buildDictionary(s.get(!1));t.forEach(i=>{const o=i[this.getKey(this.localKey)];n[o]?i.$setRelation(e,n[o]):i.$setRelation(e,[])})}buildDictionary(e){return this.mapToDictionary(e,t=>{const s=this.getKey(this.foreignKey);return[t[s],t]})}make(e){return e?e.map(t=>this.related.$newInstance(t)):[]}}var Un=Object.defineProperty,qn=(r,e,t)=>e in r?Un(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ge=(r,e,t)=>(qn(r,typeof e!="symbol"?e+"":e,t),t);class Wn extends K{constructor(e,t,s,n){super(e,t),Ge(this,"child"),Ge(this,"foreignKey"),Ge(this,"ownerKey"),this.foreignKey=s,this.ownerKey=n,this.child=t}getRelateds(){return[this.child]}define(e){return e.many(this.child,this.parent)}attach(e,t){t[this.ownerKey]!==void 0&&(e[this.foreignKey]||(e[this.foreignKey]=[]),this.attachIfMissing(e[this.foreignKey],t[this.ownerKey]))}attachIfMissing(e,t){e.includes(t)||e.push(t)}addEagerConstraints(e,t){e.whereIn(this.ownerKey,this.getEagerModelKeys(t))}getEagerModelKeys(e){return e.reduce((t,s)=>[...t,...s[this.foreignKey]],[])}match(e,t,s){const n=this.buildDictionary(s.get(!1));t.forEach(i=>{const o=this.getRelatedModels(n,i[this.foreignKey]);i.$setRelation(e,o)})}buildDictionary(e){return e.reduce((t,s)=>(t[s[this.ownerKey]]=s,t),{})}getRelatedModels(e,t){return t.reduce((s,n)=>{const i=e[n];return i&&s.push(i),s},[])}make(e){return e?e.map(t=>this.child.$newInstance(t)):[]}}var Vn=Object.defineProperty,Jn=(r,e,t)=>e in r?Vn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Xe=(r,e,t)=>(Jn(r,typeof e!="symbol"?e+"":e,t),t);class Ut extends K{constructor(e,t,s,n,i){super(e,t),Xe(this,"morphId"),Xe(this,"morphType"),Xe(this,"localKey"),this.morphId=s,this.morphType=n,this.localKey=i}getRelateds(){return[this.related]}define(e){return e.one(this.related,this.parent)}attach(e,t){t[this.morphId]=e[this.localKey],t[this.morphType]=this.parent.$entity()}addEagerConstraints(e,t){e.where(this.morphType,this.parent.$entity()).whereIn(this.morphId,this.getKeys(t,this.localKey))}match(e,t,s){const n=this.buildDictionary(s.get(!1));t.forEach(i=>{const o=i[this.localKey];n[o]?i.$setRelation(e,n[o]):i.$setRelation(e,null)})}buildDictionary(e){return e.reduce((t,s)=>(t[s[this.morphId]]=s,t),{})}make(e){return e?this.related.$newInstance(e):null}}var Qn=Object.defineProperty,Gn=(r,e,t)=>e in r?Qn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ze=(r,e,t)=>(Gn(r,typeof e!="symbol"?e+"":e,t),t);class Xn extends K{constructor(e,t,s,n,i){super(e,t),Ze(this,"morphId"),Ze(this,"morphType"),Ze(this,"localKey"),this.morphId=s,this.morphType=n,this.localKey=i}getRelateds(){return[this.related]}define(e){return e.many(this.related,this.parent)}attach(e,t){t[this.morphId]=e[this.localKey],t[this.morphType]=this.parent.$entity()}addEagerConstraints(e,t){e.where(this.morphType,this.parent.$entity()),e.whereIn(this.morphId,this.getKeys(t,this.localKey))}match(e,t,s){const n=this.buildDictionary(s.get(!1));t.forEach(i=>{const o=i[this.localKey];n[o]?i.$setRelation(e,n[o]):i.$setRelation(e,[])})}buildDictionary(e){return this.mapToDictionary(e,t=>[t[this.morphId],t])}make(e){return e?e.map(t=>this.related.$newInstance(t)):[]}}var Zn=Object.defineProperty,Yn=(r,e,t)=>e in r?Zn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,de=(r,e,t)=>(Yn(r,typeof e!="symbol"?e+"":e,t),t);class ei extends K{constructor(e,t,s,n,i,o,a){super(e,t),de(this,"through"),de(this,"firstKey"),de(this,"secondKey"),de(this,"localKey"),de(this,"secondLocalKey"),this.through=s,this.firstKey=n,this.secondKey=i,this.localKey=o,this.secondLocalKey=a}getRelateds(){return[this.related,this.through]}define(e){return e.many(this.related,this.parent)}attach(e,t){}addEagerConstraints(e,t){}match(e,t,s){const n=s.newQuery(this.through.$entity()).where(this.firstKey,this.getKeys(t,this.localKey)).get(!1),i=s.where(this.secondKey,this.getKeys(n,this.secondLocalKey)).groupBy(this.secondKey).get(!1),o=this.buildDictionary(n,i);t.forEach(a=>{const c=a[this.localKey];o[c]?a.$setRelation(e,o[c][0]):a.$setRelation(e,[])})}buildDictionary(e,t){return this.mapToDictionary(e,s=>[s[this.firstKey],t[s[this.secondLocalKey]]])}make(e){return e?e.map(t=>this.related.$newInstance(t)):[]}}var ti=Object.defineProperty,ri=(r,e,t)=>e in r?ti(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,te=(r,e,t)=>(ri(r,typeof e!="symbol"?e+"":e,t),t);class si extends K{constructor(e,t,s,n,i,o,a,c){super(e,t),te(this,"pivot"),te(this,"morphId"),te(this,"morphType"),te(this,"relatedId"),te(this,"parentKey"),te(this,"relatedKey"),te(this,"pivotKey","pivot"),this.pivot=s,this.morphId=i,this.morphType=o,this.relatedId=n,this.parentKey=a,this.relatedKey=c}getRelateds(){return[this.related,this.pivot]}define(e){return e.many(this.related,this.parent)}attach(e,t){const s=t.pivot??{};s[this.morphId]=e[this.parentKey],s[this.morphType]=this.parent.$entity(),s[this.relatedId]=t[this.relatedKey],t[`pivot_${this.pivot.$entity()}`]=s}make(e){return e?e.map(t=>this.related.$newInstance(t)):[]}match(e,t,s){const n=s.get(!1),i=s.newQuery(this.pivot.$entity()).whereIn(this.relatedId,this.getKeys(n,this.relatedKey)).whereIn(this.morphId,this.getKeys(t,this.parentKey)).groupBy(this.morphId,this.relatedId,this.morphType).get();t.forEach(o=>{const a=[];n.forEach(c=>{var f;const u=((f=i[`[${o[this.parentKey]},${c[this.relatedKey]},${this.parent.$entity()}]`])==null?void 0:f[0])??null,l=c.$newInstance(c.$toJson());l.$setRelation("pivot",u),u&&a.push(l)}),o.$setRelation(e,a)})}addEagerConstraints(e,t){}}var ni=Object.defineProperty,ii=(r,e,t)=>e in r?ni(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,R=(r,e,t)=>(ii(r,typeof e!="symbol"?e+"":e,t),t);class ${constructor(e,t={operation:"set"}){this.$boot(),(t.fill??!0)&&this.$fill(e,t)}static fields(){return{}}static initializeSchema(){this.schemas[this.entity]={},this.fieldsOnDelete[this.entity]=this.fieldsOnDelete[this.entity]??{};const e={...this.fields(),...this.registries[this.entity]};for(const t in e){const s=e[t];this.schemas[this.entity][t]=typeof s=="function"?s():s,this.fieldsOnDelete[this.entity][t]&&(this.schemas[this.entity][t]=this.schemas[this.entity][t].onDelete(this.fieldsOnDelete[this.entity][t]))}}static setRegistry(e,t){return this.registries[this.entity]||(this.registries[this.entity]={}),this.registries[this.entity][e]=t,this}static setFieldDeleteMode(e,t){return this.fieldsOnDelete[this.entity]=this.fieldsOnDelete[this.entity]??{},this.fieldsOnDelete[this.entity][e]=t,this}static setMutator(e,t){return this.fieldMutators[e]=t,this}static setCast(e,t){return this.fieldCasts[e]=t,this}static setHidden(e){return this.hidden.push(e),this}static clearBootedModels(){this.booted={},this.original={},this.schemas={},this.fieldMutators={},this.fieldCasts={},this.hidden=[],this.visible=[]}static clearRegistries(){this.registries={}}static newRawInstance(){return new this(void 0,{fill:!1})}static attr(e){return new Tn(this.newRawInstance(),e)}static string(e){return new Kn(this.newRawInstance(),e)}static number(e){return new Nn(this.newRawInstance(),e)}static boolean(e){return new Dn(this.newRawInstance(),e)}static uid(e){return new vr(this.newRawInstance(),e)}static hasOne(e,t,s){const n=this.newRawInstance();return s=s??n.$getKeyName(),new kt(n,e.newRawInstance(),t,s)}static belongsTo(e,t,s){const n=e.newRawInstance();return s=s??n.$getKeyName(),new jn(this.newRawInstance(),n,t,s)}static belongsToMany(e,t,s,n,i,o){const a=e.newRawInstance(),c=this.newRawInstance(),u=t.newRawInstance();return i=i??c.$getLocalKey(),o=o??a.$getLocalKey(),this.schemas[e.entity][`pivot_${u.$entity()}`]=new kt(a,u,n,o),new _r(c,a,u,s,n,i,o)}static morphToMany(e,t,s,n,i,o,a){const c=e.newRawInstance(),u=this.newRawInstance(),l=t.newRawInstance();return o=o??u.$getLocalKey(),a=a??c.$getLocalKey(),this.schemas[e.entity][`pivot_${l.$entity()}`]=new Ut(c,l,s,u.$entity(),a),new si(u,c,l,s,n,i,o,a)}static hasMany(e,t,s){const n=this.newRawInstance();return s=s??n.$getKeyName(),new Hn(n,e.newRawInstance(),t,s)}static hasManyBy(e,t,s){const n=e.newRawInstance();return s=s??n.$getLocalKey(),new Wn(this.newRawInstance(),n,t,s)}static hasManyThrough(e,t,s,n,i,o){const a=this.newRawInstance(),c=t.newRawInstance();return i=i??a.$getLocalKey(),o=o??c.$getLocalKey(),new ei(a,e.newRawInstance(),c,s,n,i,o)}static morphOne(e,t,s,n){const i=this.newRawInstance();return n=n??i.$getLocalKey(),new Ut(i,e.newRawInstance(),t,s,n)}static morphTo(e,t,s,n=""){const i=this.newRawInstance(),o=e.map(a=>a.newRawInstance());return new pt(i,o,t,s,n)}static morphMany(e,t,s,n){const i=this.newRawInstance();return n=n??i.$getLocalKey(),new Xn(i,e.newRawInstance(),t,s,n)}static mutators(){return{}}static casts(){return{}}static types(){return{}}$self(){return this.constructor}$entity(){return this.$self().entity}$config(){return this.$self().config}$namespace(){return this.$self().namespace??Y.model.namespace}$storeName(){return(this.$namespace()?this.$namespace()+"/":"")+this.$baseEntity()}$baseEntity(){return this.$self().baseEntity??this.$entity()}$typeKey(){return this.$self().typeKey}$types(){return this.$self().types()}$piniaOptions(){return this.$self().piniaOptions}$primaryKey(){return this.$self().primaryKey}$fields(){return this.$self().schemas[this.$entity()]}$hidden(){return this.$self().hidden}$visible(){return this.$self().visible}$newInstance(e,t){const s=this.$self();return new s(e,t)}$boot(){this.$self().booted[this.$entity()]||(this.$self().booted[this.$entity()]=!0,this.$initializeSchema())}$initializeSchema(){this.$self().initializeSchema()}$casts(){return{...this.$getCasts(),...this.$self().fieldCasts}}$fill(e={},t={}){var c;const s=t.operation??"get",n={...Y.model,...this.$config()};n.withMeta&&(this.$self().schemas[this.$entity()][this.$self().metaKey]=this.$self().attr({}));const i=this.$fields(),o=t.relations??!0,a={...this.$getMutators(),...this.$self().fieldMutators};for(const u in i){if(s==="get"&&!this.isFieldVisible(u,this.$hidden(),this.$visible(),t))continue;const l=i[u];let f=e[u];if(l instanceof K&&!o)continue;const p=a==null?void 0:a[u],y=(c=this.$casts()[u])==null?void 0:c.newRawInstance(i);p&&s==="get"&&(f=typeof p=="function"?p(f):typeof p.get=="function"?p.get(f):f),y&&s==="get"&&(f=y.get(f));let d=this.$fillField(u,l,f);p&&typeof p!="function"&&s==="set"&&p.set&&(d=p.set(d)),y&&s==="set"&&(d=y.set(d)),this[u]=this[u]??d}return s==="set"&&(this.$self().original[this.$getKey(this,!0)]=this.$getAttributes()),n.withMeta&&s==="set"&&this.$fillMeta(t.action),this}$fillMeta(e="save"){const t=Math.floor(Date.now()/1e3);e==="save"&&(this[this.$self().metaKey]={createdAt:t,updatedAt:t}),e==="update"&&(this[this.$self().metaKey].updatedAt=t)}$fillField(e,t,s){if(s!==void 0)return t instanceof pt?t.setKey(e).make(s,this[t.getType()]):t.setKey(e).make(s);if(this[e]===void 0)return t.setKey(e).make()}isFieldVisible(e,t,s,n){const i=t.length>0?t:Y.model.hidden,o=[...s.length>0?s:Y.model.visible,String(this.$primaryKey())],a=n.visible??[],c=n.hidden??[];return(i.includes("*")||i.includes(e))&&!a.includes(e)||c.includes(e)?!1:(o.includes("*")||o.includes(e))&&!c.includes(e)||a.includes(e)}$getKeyName(){return this.$primaryKey()}$getKey(e,t=!1){if(e=e??this,this.$hasCompositeKey()){const n=this.$getCompositeKey(e);return t?"["+(n==null?void 0:n.join(","))+"]":n}const s=e[this.$getKeyName()];return ht(s)?null:s}$hasCompositeKey(){return S(this.$getKeyName())}$getCompositeKey(e){let t=[];return this.$getKeyName().every(s=>{const n=e[s];return ht(n)?(t=null,!1):(t.push(n),!0)}),t===null?null:t}$getIndexId(e){const t=e??this,s=this.$getKey(t);return ge(s!==null,["The record is missing the primary key. If you want to persist record","without the primary key, please define the primary key field with the","`uid` attribute."]),this.$stringifyId(s)}$stringifyId(e){return S(e)?JSON.stringify(e):String(e)}$getLocalKey(){return ge(!this.$hasCompositeKey(),["Please provide the local key for the relationship. The model with the","composite key can't infer its local key."]),this.$getKeyName()}$getRelation(e){let t=this.$fields()[e];return Object.values(this.$types()).forEach(n=>{t===void 0&&(t=n.fields()[e])}),ge(t instanceof K,[`Relationship [${e}] on model [${this.$entity()}] not found.`]),t}$setRelation(e,t){return e.includes("pivot")?(this.pivot=t,this):(this.$fields()[e]&&(this[e]=t),this)}$getMutators(){return this.$self().mutators()}$getCasts(){return this.$self().casts()}$getOriginal(){return this.$self().original[this.$getKey(this,!0)]}$refresh(){return this.$isDirty()&&Object.entries(this.$getOriginal()).forEach(e=>{this[e[0]]=e[1]}),this}$isDirty(e){const t=this.$getOriginal();return e?(Object.keys(t).includes(e)||Ke(['The property"',e,'"does not exit in the model "',this.$entity(),'"']),!ft(this[e],t[e])):!ft(t,this.$getAttributes())}$getAttributes(){return this.$toJson(this,{relations:!1})}$toJson(e,t={}){e=e??this;const s=e.$fields(),n=t.relations??!0,i={};for(const o in s){const a=s[o],c=e[o];if(!(a instanceof K)){i[o]=this.serializeValue(c);continue}n&&(i[o]=this.serializeRelation(c))}return i}serializeValue(e){return e===null?null:S(e)?this.serializeArray(e):typeof e=="object"?e instanceof Date&&!isNaN(e.getTime())&&typeof e.toISOString=="function"?e.toISOString():this.serializeObject(e):e}serializeArray(e){return e.map(t=>this.serializeValue(t))}serializeObject(e){const t={};for(const s in e)t[s]=this.serializeValue(e[s]);return t}serializeRelation(e){if(e!==void 0)return e===null?null:S(e)?e.map(t=>t.$toJson()):e.$toJson()}}R($,"entity");R($,"baseEntity");R($,"namespace");R($,"primaryKey","id");R($,"metaKey","_meta");R($,"hidden",["_meta"]);R($,"visible",[]);R($,"config");R($,"typeKey","type");R($,"fieldsOnDelete",{});R($,"original",{});R($,"schemas",{});R($,"registries",{});R($,"piniaOptions",{});R($,"fieldMutators",{});R($,"fieldCasts",{});R($,"booted",{});R($,"saving",()=>{});R($,"updating",()=>{});R($,"creating",()=>{});R($,"deleting",()=>{});R($,"retrieved",()=>{});R($,"saved",()=>{});R($,"updated",()=>{});R($,"created",()=>{});R($,"deleted",()=>{});function qt(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,s)}return t}function Q(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qt(Object(t),!0).forEach(function(s){F(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):qt(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function Ae(r){"@babel/helpers - typeof";return Ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(r)}function F(r,e,t){return e=li(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function oi(r,e){if(r==null)return{};var t={},s=Object.keys(r),n,i;for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&(t[n]=r[n]);return t}function ai(r,e){if(r==null)return{};var t=oi(r,e),s,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(n=0;n<i.length;n++)s=i[n],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(t[s]=r[s])}return t}function ci(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var s=t.call(r,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function li(r){var e=ci(r,"string");return typeof e=="symbol"?e:String(e)}var ui=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rr={exports:{}};(function(r){(function(e){var t=function(g,b,I){if(!u(b)||f(b)||p(b)||y(b)||c(b))return b;var D,v=0,C=0;if(l(b))for(D=[],C=b.length;v<C;v++)D.push(t(g,b[v],I));else{D={};for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(D[g(_,I)]=t(g,b[_],I))}return D},s=function(g,b){b=b||{};var I=b.separator||"_",D=b.split||/(?=[A-Z])/;return g.split(D).join(I)},n=function(g){return d(g)?g:(g=g.replace(/[\-_\s]+(.)?/g,function(b,I){return I?I.toUpperCase():""}),g.substr(0,1).toLowerCase()+g.substr(1))},i=function(g){var b=n(g);return b.substr(0,1).toUpperCase()+b.substr(1)},o=function(g,b){return s(g,b).toLowerCase()},a=Object.prototype.toString,c=function(g){return typeof g=="function"},u=function(g){return g===Object(g)},l=function(g){return a.call(g)=="[object Array]"},f=function(g){return a.call(g)=="[object Date]"},p=function(g){return a.call(g)=="[object RegExp]"},y=function(g){return a.call(g)=="[object Boolean]"},d=function(g){return g=g-0,g===g},m=function(g,b){var I=b&&"process"in b?b.process:b;return typeof I!="function"?g:function(D,v){return I(D,g,v)}},E={camelize:n,decamelize:o,pascalize:i,depascalize:o,camelizeKeys:function(g,b){return t(m(n,b),g)},decamelizeKeys:function(g,b){return t(m(o,b),g,b)},pascalizeKeys:function(g,b){return t(m(i,b),g)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};r.exports?r.exports=E:e.humps=E})(ui)})(Rr);var hi=Rr.exports,fi=["class","style"];function di(r){return r.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var s=t.indexOf(":"),n=hi.camelize(t.slice(0,s)),i=t.slice(s+1).trim();return e[n]=i,e},{})}function pi(r){return r.split(/\s+/).reduce(function(e,t){return e[t]=!0,e},{})}function Er(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof r=="string")return r;var s=(r.children||[]).map(function(c){return Er(c)}),n=Object.keys(r.attributes||{}).reduce(function(c,u){var l=r.attributes[u];switch(u){case"class":c.class=pi(l);break;case"style":c.style=di(l);break;default:c.attrs[u]=l}return c},{attrs:{},class:{},style:{}});t.class;var i=t.style,o=i===void 0?{}:i,a=ai(t,fi);return hs(r.tag,Q(Q(Q({},e),{},{class:n.class,style:Q(Q({},n.style),o)},n.attrs),a),s)}var Ir=!1;try{Ir=!0}catch{}function yi(){if(!Ir&&console&&typeof console.error=="function"){var r;(r=console).error.apply(r,arguments)}}function Ye(r,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?F({},r,e):{}}function mi(r){var e,t=(e={"fa-spin":r.spin,"fa-pulse":r.pulse,"fa-fw":r.fixedWidth,"fa-border":r.border,"fa-li":r.listItem,"fa-inverse":r.inverse,"fa-flip":r.flip===!0,"fa-flip-horizontal":r.flip==="horizontal"||r.flip==="both","fa-flip-vertical":r.flip==="vertical"||r.flip==="both"},F(e,"fa-".concat(r.size),r.size!==null),F(e,"fa-rotate-".concat(r.rotation),r.rotation!==null),F(e,"fa-pull-".concat(r.pull),r.pull!==null),F(e,"fa-swap-opacity",r.swapOpacity),F(e,"fa-bounce",r.bounce),F(e,"fa-shake",r.shake),F(e,"fa-beat",r.beat),F(e,"fa-fade",r.fade),F(e,"fa-beat-fade",r.beatFade),F(e,"fa-flash",r.flash),F(e,"fa-spin-pulse",r.spinPulse),F(e,"fa-spin-reverse",r.spinReverse),e);return Object.keys(t).map(function(s){return t[s]?s:null}).filter(function(s){return s})}function Wt(r){if(r&&Ae(r)==="object"&&r.prefix&&r.iconName&&r.icon)return r;if(ot.icon)return ot.icon(r);if(r===null)return null;if(Ae(r)==="object"&&r.prefix&&r.iconName)return r;if(Array.isArray(r)&&r.length===2)return{prefix:r[0],iconName:r[1]};if(typeof r=="string")return{prefix:"fas",iconName:r}}var gi=ls({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(e){return[!0,!1,"horizontal","vertical","both"].indexOf(e)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},maskId:{type:String,default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(e){return["right","left"].indexOf(e)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(e){return[90,180,270].indexOf(Number.parseInt(e,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(e){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(e)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},titleId:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(e,t){var s=t.attrs,n=A(function(){return Wt(e.icon)}),i=A(function(){return Ye("classes",mi(e))}),o=A(function(){return Ye("transform",typeof e.transform=="string"?ot.transform(e.transform):e.transform)}),a=A(function(){return Ye("mask",Wt(e.mask))}),c=A(function(){return us(n.value,Q(Q(Q(Q({},i.value),o.value),a.value),{},{symbol:e.symbol,title:e.title,titleId:e.titleId,maskId:e.maskId}))});_t(c,function(l){if(!l)return yi("Could not find one or more icon(s)",n.value,a.value)},{immediate:!0});var u=A(function(){return c.value?Er(c.value.abstract[0],{},s):null});return function(){return u.value}}});fs.add(ds,ps,ys,ms);function Pr(r,e){return function(){return r.apply(e,arguments)}}const{toString:bi}=Object.prototype,{getPrototypeOf:Rt}=Object,Ne=(r=>e=>{const t=bi.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),W=r=>(r=r.toLowerCase(),e=>Ne(e)===r),De=r=>e=>typeof e===r,{isArray:ce}=Array,ve=De("undefined");function wi(r){return r!==null&&!ve(r)&&r.constructor!==null&&!ve(r.constructor)&&k(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Ar=W("ArrayBuffer");function vi(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&Ar(r.buffer),e}const $i=De("string"),k=De("function"),xr=De("number"),Fe=r=>r!==null&&typeof r=="object",_i=r=>r===!0||r===!1,Se=r=>{if(Ne(r)!=="object")return!1;const e=Rt(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Oi=W("Date"),Si=W("File"),Ri=W("Blob"),Ei=W("FileList"),Ii=r=>Fe(r)&&k(r.pipe),Pi=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||k(r.append)&&((e=Ne(r))==="formdata"||e==="object"&&k(r.toString)&&r.toString()==="[object FormData]"))},Ai=W("URLSearchParams"),xi=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _e(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let s,n;if(typeof r!="object"&&(r=[r]),ce(r))for(s=0,n=r.length;s<n;s++)e.call(null,r[s],s,r);else{const i=t?Object.getOwnPropertyNames(r):Object.keys(r),o=i.length;let a;for(s=0;s<o;s++)a=i[s],e.call(null,r[a],a,r)}}function Cr(r,e){e=e.toLowerCase();const t=Object.keys(r);let s=t.length,n;for(;s-- >0;)if(n=t[s],e===n.toLowerCase())return n;return null}const Tr=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Kr=r=>!ve(r)&&r!==Tr;function mt(){const{caseless:r}=Kr(this)&&this||{},e={},t=(s,n)=>{const i=r&&Cr(e,n)||n;Se(e[i])&&Se(s)?e[i]=mt(e[i],s):Se(s)?e[i]=mt({},s):ce(s)?e[i]=s.slice():e[i]=s};for(let s=0,n=arguments.length;s<n;s++)arguments[s]&&_e(arguments[s],t);return e}const Ci=(r,e,t,{allOwnKeys:s}={})=>(_e(e,(n,i)=>{t&&k(n)?r[i]=Pr(n,t):r[i]=n},{allOwnKeys:s}),r),Ti=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),Ki=(r,e,t,s)=>{r.prototype=Object.create(e.prototype,s),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},Ni=(r,e,t,s)=>{let n,i,o;const a={};if(e=e||{},r==null)return e;do{for(n=Object.getOwnPropertyNames(r),i=n.length;i-- >0;)o=n[i],(!s||s(o,r,e))&&!a[o]&&(e[o]=r[o],a[o]=!0);r=t!==!1&&Rt(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},Di=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const s=r.indexOf(e,t);return s!==-1&&s===t},Fi=r=>{if(!r)return null;if(ce(r))return r;let e=r.length;if(!xr(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},Mi=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&Rt(Uint8Array)),Li=(r,e)=>{const s=(r&&r[Symbol.iterator]).call(r);let n;for(;(n=s.next())&&!n.done;){const i=n.value;e.call(r,i[0],i[1])}},Bi=(r,e)=>{let t;const s=[];for(;(t=r.exec(e))!==null;)s.push(t);return s},ji=W("HTMLFormElement"),zi=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,n){return s.toUpperCase()+n}),Vt=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),ki=W("RegExp"),Nr=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),s={};_e(t,(n,i)=>{let o;(o=e(n,i,r))!==!1&&(s[i]=o||n)}),Object.defineProperties(r,s)},Hi=r=>{Nr(r,(e,t)=>{if(k(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=r[t];if(k(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Ui=(r,e)=>{const t={},s=n=>{n.forEach(i=>{t[i]=!0})};return ce(r)?s(r):s(String(r).split(e)),t},qi=()=>{},Wi=(r,e)=>(r=+r,Number.isFinite(r)?r:e),et="abcdefghijklmnopqrstuvwxyz",Jt="0123456789",Dr={DIGIT:Jt,ALPHA:et,ALPHA_DIGIT:et+et.toUpperCase()+Jt},Vi=(r=16,e=Dr.ALPHA_DIGIT)=>{let t="";const{length:s}=e;for(;r--;)t+=e[Math.random()*s|0];return t};function Ji(r){return!!(r&&k(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const Qi=r=>{const e=new Array(10),t=(s,n)=>{if(Fe(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[n]=s;const i=ce(s)?[]:{};return _e(s,(o,a)=>{const c=t(o,n+1);!ve(c)&&(i[a]=c)}),e[n]=void 0,i}}return s};return t(r,0)},Gi=W("AsyncFunction"),Xi=r=>r&&(Fe(r)||k(r))&&k(r.then)&&k(r.catch),h={isArray:ce,isArrayBuffer:Ar,isBuffer:wi,isFormData:Pi,isArrayBufferView:vi,isString:$i,isNumber:xr,isBoolean:_i,isObject:Fe,isPlainObject:Se,isUndefined:ve,isDate:Oi,isFile:Si,isBlob:Ri,isRegExp:ki,isFunction:k,isStream:Ii,isURLSearchParams:Ai,isTypedArray:Mi,isFileList:Ei,forEach:_e,merge:mt,extend:Ci,trim:xi,stripBOM:Ti,inherits:Ki,toFlatObject:Ni,kindOf:Ne,kindOfTest:W,endsWith:Di,toArray:Fi,forEachEntry:Li,matchAll:Bi,isHTMLForm:ji,hasOwnProperty:Vt,hasOwnProp:Vt,reduceDescriptors:Nr,freezeMethods:Hi,toObjectSet:Ui,toCamelCase:zi,noop:qi,toFiniteNumber:Wi,findKey:Cr,global:Tr,isContextDefined:Kr,ALPHABET:Dr,generateString:Vi,isSpecCompliantForm:Ji,toJSONObject:Qi,isAsyncFn:Gi,isThenable:Xi};function w(r,e,t,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),n&&(this.response=n)}h.inherits(w,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:h.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Fr=w.prototype,Mr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Mr[r]={value:r}});Object.defineProperties(w,Mr);Object.defineProperty(Fr,"isAxiosError",{value:!0});w.from=(r,e,t,s,n,i)=>{const o=Object.create(Fr);return h.toFlatObject(r,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),w.call(o,r.message,e,t,s,n),o.cause=r,o.name=r.name,i&&Object.assign(o,i),o};const Zi=null;function gt(r){return h.isPlainObject(r)||h.isArray(r)}function Lr(r){return h.endsWith(r,"[]")?r.slice(0,-2):r}function Qt(r,e,t){return r?r.concat(e).map(function(n,i){return n=Lr(n),!t&&i?"["+n+"]":n}).join(t?".":""):e}function Yi(r){return h.isArray(r)&&!r.some(gt)}const eo=h.toFlatObject(h,{},null,function(e){return/^is[A-Z]/.test(e)});function Me(r,e,t){if(!h.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=h.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,E){return!h.isUndefined(E[m])});const s=t.metaTokens,n=t.visitor||l,i=t.dots,o=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&h.isSpecCompliantForm(e);if(!h.isFunction(n))throw new TypeError("visitor must be a function");function u(d){if(d===null)return"";if(h.isDate(d))return d.toISOString();if(!c&&h.isBlob(d))throw new w("Blob is not supported. Use a Buffer instead.");return h.isArrayBuffer(d)||h.isTypedArray(d)?c&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function l(d,m,E){let g=d;if(d&&!E&&typeof d=="object"){if(h.endsWith(m,"{}"))m=s?m:m.slice(0,-2),d=JSON.stringify(d);else if(h.isArray(d)&&Yi(d)||(h.isFileList(d)||h.endsWith(m,"[]"))&&(g=h.toArray(d)))return m=Lr(m),g.forEach(function(I,D){!(h.isUndefined(I)||I===null)&&e.append(o===!0?Qt([m],D,i):o===null?m:m+"[]",u(I))}),!1}return gt(d)?!0:(e.append(Qt(E,m,i),u(d)),!1)}const f=[],p=Object.assign(eo,{defaultVisitor:l,convertValue:u,isVisitable:gt});function y(d,m){if(!h.isUndefined(d)){if(f.indexOf(d)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(d),h.forEach(d,function(g,b){(!(h.isUndefined(g)||g===null)&&n.call(e,g,h.isString(b)?b.trim():b,m,p))===!0&&y(g,m?m.concat(b):[b])}),f.pop()}}if(!h.isObject(r))throw new TypeError("data must be an object");return y(r),e}function Gt(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Et(r,e){this._pairs=[],r&&Me(r,this,e)}const Br=Et.prototype;Br.append=function(e,t){this._pairs.push([e,t])};Br.toString=function(e){const t=e?function(s){return e.call(this,s,Gt)}:Gt;return this._pairs.map(function(n){return t(n[0])+"="+t(n[1])},"").join("&")};function to(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function jr(r,e,t){if(!e)return r;const s=t&&t.encode||to,n=t&&t.serialize;let i;if(n?i=n(e,t):i=h.isURLSearchParams(e)?e.toString():new Et(e,t).toString(s),i){const o=r.indexOf("#");o!==-1&&(r=r.slice(0,o)),r+=(r.indexOf("?")===-1?"?":"&")+i}return r}class ro{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){h.forEach(this.handlers,function(s){s!==null&&e(s)})}}const Xt=ro,zr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},so=typeof URLSearchParams<"u"?URLSearchParams:Et,no=typeof FormData<"u"?FormData:null,io=typeof Blob<"u"?Blob:null,oo=(()=>{let r;return typeof navigator<"u"&&((r=navigator.product)==="ReactNative"||r==="NativeScript"||r==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),ao=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),q={isBrowser:!0,classes:{URLSearchParams:so,FormData:no,Blob:io},isStandardBrowserEnv:oo,isStandardBrowserWebWorkerEnv:ao,protocols:["http","https","file","blob","url","data"]};function co(r,e){return Me(r,new q.classes.URLSearchParams,Object.assign({visitor:function(t,s,n,i){return q.isNode&&h.isBuffer(t)?(this.append(s,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function lo(r){return h.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function uo(r){const e={},t=Object.keys(r);let s;const n=t.length;let i;for(s=0;s<n;s++)i=t[s],e[i]=r[i];return e}function kr(r){function e(t,s,n,i){let o=t[i++];const a=Number.isFinite(+o),c=i>=t.length;return o=!o&&h.isArray(n)?n.length:o,c?(h.hasOwnProp(n,o)?n[o]=[n[o],s]:n[o]=s,!a):((!n[o]||!h.isObject(n[o]))&&(n[o]=[]),e(t,s,n[o],i)&&h.isArray(n[o])&&(n[o]=uo(n[o])),!a)}if(h.isFormData(r)&&h.isFunction(r.entries)){const t={};return h.forEachEntry(r,(s,n)=>{e(lo(s),n,t,0)}),t}return null}function ho(r,e,t){if(h.isString(r))try{return(e||JSON.parse)(r),h.trim(r)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(r)}const It={transitional:zr,adapter:["xhr","http"],transformRequest:[function(e,t){const s=t.getContentType()||"",n=s.indexOf("application/json")>-1,i=h.isObject(e);if(i&&h.isHTMLForm(e)&&(e=new FormData(e)),h.isFormData(e))return n&&n?JSON.stringify(kr(e)):e;if(h.isArrayBuffer(e)||h.isBuffer(e)||h.isStream(e)||h.isFile(e)||h.isBlob(e))return e;if(h.isArrayBufferView(e))return e.buffer;if(h.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return co(e,this.formSerializer).toString();if((a=h.isFileList(e))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Me(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||n?(t.setContentType("application/json",!1),ho(e)):e}],transformResponse:[function(e){const t=this.transitional||It.transitional,s=t&&t.forcedJSONParsing,n=this.responseType==="json";if(e&&h.isString(e)&&(s&&!this.responseType||n)){const o=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?w.from(a,w.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:q.classes.FormData,Blob:q.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};h.forEach(["delete","get","head","post","put","patch"],r=>{It.headers[r]={}});const Pt=It,fo=h.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),po=r=>{const e={};let t,s,n;return r&&r.split(`
`).forEach(function(o){n=o.indexOf(":"),t=o.substring(0,n).trim().toLowerCase(),s=o.substring(n+1).trim(),!(!t||e[t]&&fo[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},Zt=Symbol("internals");function pe(r){return r&&String(r).trim().toLowerCase()}function Re(r){return r===!1||r==null?r:h.isArray(r)?r.map(Re):String(r)}function yo(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(r);)e[s[1]]=s[2];return e}const mo=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function tt(r,e,t,s,n){if(h.isFunction(s))return s.call(this,e,t);if(n&&(e=t),!!h.isString(e)){if(h.isString(s))return e.indexOf(s)!==-1;if(h.isRegExp(s))return s.test(e)}}function go(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function bo(r,e){const t=h.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(r,s+t,{value:function(n,i,o){return this[s].call(this,e,n,i,o)},configurable:!0})})}class Le{constructor(e){e&&this.set(e)}set(e,t,s){const n=this;function i(a,c,u){const l=pe(c);if(!l)throw new Error("header name must be a non-empty string");const f=h.findKey(n,l);(!f||n[f]===void 0||u===!0||u===void 0&&n[f]!==!1)&&(n[f||c]=Re(a))}const o=(a,c)=>h.forEach(a,(u,l)=>i(u,l,c));return h.isPlainObject(e)||e instanceof this.constructor?o(e,t):h.isString(e)&&(e=e.trim())&&!mo(e)?o(po(e),t):e!=null&&i(t,e,s),this}get(e,t){if(e=pe(e),e){const s=h.findKey(this,e);if(s){const n=this[s];if(!t)return n;if(t===!0)return yo(n);if(h.isFunction(t))return t.call(this,n,s);if(h.isRegExp(t))return t.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=pe(e),e){const s=h.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||tt(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let n=!1;function i(o){if(o=pe(o),o){const a=h.findKey(s,o);a&&(!t||tt(s,s[a],a,t))&&(delete s[a],n=!0)}}return h.isArray(e)?e.forEach(i):i(e),n}clear(e){const t=Object.keys(this);let s=t.length,n=!1;for(;s--;){const i=t[s];(!e||tt(this,this[i],i,e,!0))&&(delete this[i],n=!0)}return n}normalize(e){const t=this,s={};return h.forEach(this,(n,i)=>{const o=h.findKey(s,i);if(o){t[o]=Re(n),delete t[i];return}const a=e?go(i):String(i).trim();a!==i&&delete t[i],t[a]=Re(n),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return h.forEach(this,(s,n)=>{s!=null&&s!==!1&&(t[n]=e&&h.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(n=>s.set(n)),s}static accessor(e){const s=(this[Zt]=this[Zt]={accessors:{}}).accessors,n=this.prototype;function i(o){const a=pe(o);s[a]||(bo(n,o),s[a]=!0)}return h.isArray(e)?e.forEach(i):i(e),this}}Le.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);h.reduceDescriptors(Le.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(s){this[t]=s}}});h.freezeMethods(Le);const G=Le;function rt(r,e){const t=this||Pt,s=e||t,n=G.from(s.headers);let i=s.data;return h.forEach(r,function(a){i=a.call(t,i,n.normalize(),e?e.status:void 0)}),n.normalize(),i}function Hr(r){return!!(r&&r.__CANCEL__)}function Oe(r,e,t){w.call(this,r??"canceled",w.ERR_CANCELED,e,t),this.name="CanceledError"}h.inherits(Oe,w,{__CANCEL__:!0});function wo(r,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?r(t):e(new w("Request failed with status code "+t.status,[w.ERR_BAD_REQUEST,w.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const vo=q.isStandardBrowserEnv?function(){return{write:function(t,s,n,i,o,a){const c=[];c.push(t+"="+encodeURIComponent(s)),h.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),h.isString(i)&&c.push("path="+i),h.isString(o)&&c.push("domain="+o),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function $o(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function _o(r,e){return e?r.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):r}function Ur(r,e){return r&&!$o(e)?_o(r,e):e}const Oo=q.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let s;function n(i){let o=i;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return s=n(window.location.href),function(o){const a=h.isString(o)?n(o):o;return a.protocol===s.protocol&&a.host===s.host}}():function(){return function(){return!0}}();function So(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function Ro(r,e){r=r||10;const t=new Array(r),s=new Array(r);let n=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),l=s[i];o||(o=u),t[n]=c,s[n]=u;let f=i,p=0;for(;f!==n;)p+=t[f++],f=f%r;if(n=(n+1)%r,n===i&&(i=(i+1)%r),u-o<e)return;const y=l&&u-l;return y?Math.round(p*1e3/y):void 0}}function Yt(r,e){let t=0;const s=Ro(50,250);return n=>{const i=n.loaded,o=n.lengthComputable?n.total:void 0,a=i-t,c=s(a),u=i<=o;t=i;const l={loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:c||void 0,estimated:c&&o&&u?(o-i)/c:void 0,event:n};l[e?"download":"upload"]=!0,r(l)}}const Eo=typeof XMLHttpRequest<"u",Io=Eo&&function(r){return new Promise(function(t,s){let n=r.data;const i=G.from(r.headers).normalize(),o=r.responseType;let a;function c(){r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let u;h.isFormData(n)&&(q.isStandardBrowserEnv||q.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.getContentType(/^\s*multipart\/form-data/)?h.isString(u=i.getContentType())&&i.setContentType(u.replace(/^\s*(multipart\/form-data);+/,"$1")):i.setContentType("multipart/form-data"));let l=new XMLHttpRequest;if(r.auth){const d=r.auth.username||"",m=r.auth.password?unescape(encodeURIComponent(r.auth.password)):"";i.set("Authorization","Basic "+btoa(d+":"+m))}const f=Ur(r.baseURL,r.url);l.open(r.method.toUpperCase(),jr(f,r.params,r.paramsSerializer),!0),l.timeout=r.timeout;function p(){if(!l)return;const d=G.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),E={data:!o||o==="text"||o==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:d,config:r,request:l};wo(function(b){t(b),c()},function(b){s(b),c()},E),l=null}if("onloadend"in l?l.onloadend=p:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(p)},l.onabort=function(){l&&(s(new w("Request aborted",w.ECONNABORTED,r,l)),l=null)},l.onerror=function(){s(new w("Network Error",w.ERR_NETWORK,r,l)),l=null},l.ontimeout=function(){let m=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const E=r.transitional||zr;r.timeoutErrorMessage&&(m=r.timeoutErrorMessage),s(new w(m,E.clarifyTimeoutError?w.ETIMEDOUT:w.ECONNABORTED,r,l)),l=null},q.isStandardBrowserEnv){const d=Oo(f)&&r.xsrfCookieName&&vo.read(r.xsrfCookieName);d&&i.set(r.xsrfHeaderName,d)}n===void 0&&i.setContentType(null),"setRequestHeader"in l&&h.forEach(i.toJSON(),function(m,E){l.setRequestHeader(E,m)}),h.isUndefined(r.withCredentials)||(l.withCredentials=!!r.withCredentials),o&&o!=="json"&&(l.responseType=r.responseType),typeof r.onDownloadProgress=="function"&&l.addEventListener("progress",Yt(r.onDownloadProgress,!0)),typeof r.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",Yt(r.onUploadProgress)),(r.cancelToken||r.signal)&&(a=d=>{l&&(s(!d||d.type?new Oe(null,r,l):d),l.abort(),l=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const y=So(f);if(y&&q.protocols.indexOf(y)===-1){s(new w("Unsupported protocol "+y+":",w.ERR_BAD_REQUEST,r));return}l.send(n||null)})},bt={http:Zi,xhr:Io};h.forEach(bt,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const er=r=>`- ${r}`,Po=r=>h.isFunction(r)||r===null||r===!1,qr={getAdapter:r=>{r=h.isArray(r)?r:[r];const{length:e}=r;let t,s;const n={};for(let i=0;i<e;i++){t=r[i];let o;if(s=t,!Po(t)&&(s=bt[(o=String(t)).toLowerCase()],s===void 0))throw new w(`Unknown adapter '${o}'`);if(s)break;n[o||"#"+i]=s}if(!s){const i=Object.entries(n).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(er).join(`
`):" "+er(i[0]):"as no adapter specified";throw new w("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:bt};function st(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Oe(null,r)}function tr(r){return st(r),r.headers=G.from(r.headers),r.data=rt.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),qr.getAdapter(r.adapter||Pt.adapter)(r).then(function(s){return st(r),s.data=rt.call(r,r.transformResponse,s),s.headers=G.from(s.headers),s},function(s){return Hr(s)||(st(r),s&&s.response&&(s.response.data=rt.call(r,r.transformResponse,s.response),s.response.headers=G.from(s.response.headers))),Promise.reject(s)})}const rr=r=>r instanceof G?r.toJSON():r;function ae(r,e){e=e||{};const t={};function s(u,l,f){return h.isPlainObject(u)&&h.isPlainObject(l)?h.merge.call({caseless:f},u,l):h.isPlainObject(l)?h.merge({},l):h.isArray(l)?l.slice():l}function n(u,l,f){if(h.isUndefined(l)){if(!h.isUndefined(u))return s(void 0,u,f)}else return s(u,l,f)}function i(u,l){if(!h.isUndefined(l))return s(void 0,l)}function o(u,l){if(h.isUndefined(l)){if(!h.isUndefined(u))return s(void 0,u)}else return s(void 0,l)}function a(u,l,f){if(f in e)return s(u,l);if(f in r)return s(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,l)=>n(rr(u),rr(l),!0)};return h.forEach(Object.keys(Object.assign({},r,e)),function(l){const f=c[l]||n,p=f(r[l],e[l],l);h.isUndefined(p)&&f!==a||(t[l]=p)}),t}const Wr="1.6.0",At={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{At[r]=function(s){return typeof s===r||"a"+(e<1?"n ":" ")+r}});const sr={};At.transitional=function(e,t,s){function n(i,o){return"[Axios v"+Wr+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,a)=>{if(e===!1)throw new w(n(o," has been removed"+(t?" in "+t:"")),w.ERR_DEPRECATED);return t&&!sr[o]&&(sr[o]=!0,console.warn(n(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,o,a):!0}};function Ao(r,e,t){if(typeof r!="object")throw new w("options must be an object",w.ERR_BAD_OPTION_VALUE);const s=Object.keys(r);let n=s.length;for(;n-- >0;){const i=s[n],o=e[i];if(o){const a=r[i],c=a===void 0||o(a,i,r);if(c!==!0)throw new w("option "+i+" must be "+c,w.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new w("Unknown option "+i,w.ERR_BAD_OPTION)}}const wt={assertOptions:Ao,validators:At},X=wt.validators;class xe{constructor(e){this.defaults=e,this.interceptors={request:new Xt,response:new Xt}}request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ae(this.defaults,t);const{transitional:s,paramsSerializer:n,headers:i}=t;s!==void 0&&wt.assertOptions(s,{silentJSONParsing:X.transitional(X.boolean),forcedJSONParsing:X.transitional(X.boolean),clarifyTimeoutError:X.transitional(X.boolean)},!1),n!=null&&(h.isFunction(n)?t.paramsSerializer={serialize:n}:wt.assertOptions(n,{encode:X.function,serialize:X.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&h.merge(i.common,i[t.method]);i&&h.forEach(["delete","get","head","post","put","patch","common"],d=>{delete i[d]}),t.headers=G.concat(o,i);const a=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(t)===!1||(c=c&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let l,f=0,p;if(!c){const d=[tr.bind(this),void 0];for(d.unshift.apply(d,a),d.push.apply(d,u),p=d.length,l=Promise.resolve(t);f<p;)l=l.then(d[f++],d[f++]);return l}p=a.length;let y=t;for(f=0;f<p;){const d=a[f++],m=a[f++];try{y=d(y)}catch(E){m.call(this,E);break}}try{l=tr.call(this,y)}catch(d){return Promise.reject(d)}for(f=0,p=u.length;f<p;)l=l.then(u[f++],u[f++]);return l}getUri(e){e=ae(this.defaults,e);const t=Ur(e.baseURL,e.url);return jr(t,e.params,e.paramsSerializer)}}h.forEach(["delete","get","head","options"],function(e){xe.prototype[e]=function(t,s){return this.request(ae(s||{},{method:e,url:t,data:(s||{}).data}))}});h.forEach(["post","put","patch"],function(e){function t(s){return function(i,o,a){return this.request(ae(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}xe.prototype[e]=t(),xe.prototype[e+"Form"]=t(!0)});const Ee=xe;class xt{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const s=this;this.promise.then(n=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](n);s._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(a=>{s.subscribe(a),i=a}).then(n);return o.cancel=function(){s.unsubscribe(i)},o},e(function(i,o,a){s.reason||(s.reason=new Oe(i,o,a),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new xt(function(n){e=n}),cancel:e}}}const xo=xt;function Co(r){return function(t){return r.apply(null,t)}}function To(r){return h.isObject(r)&&r.isAxiosError===!0}const vt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(vt).forEach(([r,e])=>{vt[e]=r});const Ko=vt;function Vr(r){const e=new Ee(r),t=Pr(Ee.prototype.request,e);return h.extend(t,Ee.prototype,e,{allOwnKeys:!0}),h.extend(t,e,null,{allOwnKeys:!0}),t.create=function(n){return Vr(ae(r,n))},t}const x=Vr(Pt);x.Axios=Ee;x.CanceledError=Oe;x.CancelToken=xo;x.isCancel=Hr;x.VERSION=Wr;x.toFormData=Me;x.AxiosError=w;x.Cancel=x.CanceledError;x.all=function(e){return Promise.all(e)};x.spread=Co;x.isAxiosError=To;x.mergeConfig=ae;x.AxiosHeaders=G;x.formToJSON=r=>kr(h.isHTMLForm(r)?new FormData(r):r);x.getAdapter=qr.getAdapter;x.HttpStatusCode=Ko;x.default=x;const No=x,Do=No.create({baseURL:"https://data.nhm.ac.uk/api/3/action/",timeout:2e4,headers:{"Content-Type":"application/json"}});function Fo(r){return Do.get(r).then(e=>e.data)}class Ct extends ${static fields(){return{id:this.string(""),name:this.string(""),title:this.string(""),resources:this.hasMany(Be,"packageId")}}}se(Ct,"entity","packages");class Be extends ${static fields(){return{id:this.string(""),name:this.string(""),version:this.number(0),titleField:this.string(""),imageField:this.string(""),imageDelimiter:this.string(""),imageLicence:this.string(""),packageId:this.string(""),package:this.belongsTo(Ct,"packageId")}}}se(Be,"entity","resources");const we=class we extends ${static fields(){return{id:this.uid(),kind:this.string("and"),parentId:this.attr(null),parent:this.belongsTo(we,"parentId"),terms:this.hasMany(Tt,"parentId"),groups:this.hasMany(we,"parentId")}}};se(we,"entity","groups");let Ce=we;class Tt extends ${static fields(){return{id:this.uid(),contentType:this.string(""),matchType:this.string(""),fieldNames:this.attr([]),value:this.attr(null),parentId:this.string(""),parent:this.belongsTo(Ce,"parentId"),widgetId:this.string(""),widget:this.belongsTo(Kt,"widgetId")}}}se(Tt,"entity","terms");class Kt extends ${static fields(){return{id:this.uid(),zoaType:this.string("empty"),classes:this.string(""),label:this.string(""),labelPosition:this.string("above"),help:this.string(""),options:this.attr({})}}}se(Kt,"entity","widgets");const Jr=yr("query",()=>{const r=A(()=>re(Be)),e=A(()=>re(Ct)),t=A(()=>re(Ce)),s=A(()=>re(Tt)),n=A(()=>re(Kt)),i=M(null),o=A({get(){if(i.value)return t.value.withAll().find(i.value.id)},set(p){i.value=p}});function a(){t.value.flush(),s.value.flush(),o.value=t.value.save({})}function c(p){let y=[...p.terms],d=[];return p.groups.forEach(m=>{d=d.concat(c(m))}),{terms:y,groups:d}}function u(p){let y=t.value.withAllRecursive().find(p);if(y){let{terms:d,groups:m}=c(y);d.forEach(E=>s.value.destroy(E.id)),m.forEach(E=>t.value.destroy(E.id))}else t.value.save({id:p})}function l(p){let y=t.value.find(p);y?o.value=y:o.value=t.value.save({id:p})}function f(){Fo("current_package_list_with_resources?limit=10000").then(p=>{p.result.filter(y=>y.resources.length>0).forEach(y=>{let d=y.resources.filter(m=>m.datastore_active);d.length!==0&&(e.value.save({id:y.id,name:y.name,title:y.title}),r.value.save(d.map(m=>({id:m.id,name:m.name,version:0,titleField:m._title_field||"_id",imageField:m._image_field,imageDelimiter:m._image_delimiter||"",imageLicence:m._image_licence,packageId:y.id}))))})}),a()}return{init:f,widgetRepo:n,termRepo:s,groupRepo:t,resourceRepo:r,packageRepo:e,rootGroup:o,resetAll:a,resetGroup:u,setRootGroup:l}});const Mo={class:"mode-tabs"},Lo={class:"tabs--main"},Bo={class:"tab"},jo=["value","id"],zo=["for"],ko={class:"tabs--sub"},Ho={class:"tab"},Uo=["value","id"],qo=["for"],Wo={__name:"ModeTabs",props:{modelValue:{type:Array}},emits:["update:modelValue"],setup(r,{emit:e}){const t=Jr(),s=M({specimens:["all","bot","ent","min","pal","zoo"],datasets:[],media:["images","specimens","documents","drawers","3d"],advanced:[],saved:[]}),n=A(()=>Object.keys(s.value)),i=A(()=>s.value[u.value]),o=M(null),a=A({get(){return o.value||i.value[0]},set(l){o.value=l,e("update:modelValue",[u.value,l]),t.setRootGroup(`${u.value}-${l||"main"}`)}}),c=M(null),u=A({get(){return c.value||Object.keys(s.value)[0]},set(l){const f=s.value[l];a.value=f.length>0?f[0]:null,c.value=l,e("update:modelValue",[l,a.value]),t.setRootGroup(`${l}-${a.value||"main"}`)}});return c.value||(u.value=Object.keys(s.value)[0]),(l,f)=>(j(),z("div",Mo,[T("ul",Lo,[(j(!0),z(at,null,Nt(n.value,p=>(j(),z("li",Bo,[ct(T("input",{type:"radio",value:p,"onUpdate:modelValue":f[0]||(f[0]=y=>u.value=y),id:`tab-${p}`},null,8,jo),[[Dt,u.value]]),T("label",{tabindex:"0",for:`tab-${p}`},[T("span",null,Pe(p),1)],8,zo)]))),256))]),T("ul",ko,[(j(!0),z(at,null,Nt(i.value,p=>(j(),z("li",Ho,[ct(T("input",{type:"radio",value:p,"onUpdate:modelValue":f[1]||(f[1]=y=>a.value=y),id:`subtab-${p}`},null,8,Uo),[[Dt,a.value]]),T("label",{tabindex:"0",for:`subtab-${p}`},[T("span",null,Pe(p),1)],8,qo)]))),256))])]))}};function Vo(r){return cr()?(lr(r),!0):!1}function Qr(r){return typeof r=="function"?r():oe(r)}const Gr=typeof window<"u"&&typeof document<"u",Jo=Object.prototype.toString,Qo=r=>Jo.call(r)==="[object Object]",$t=()=>{},Go=Xo();function Xo(){var r;return Gr&&((r=window==null?void 0:window.navigator)==null?void 0:r.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent)}function ye(r){var e;const t=Qr(r);return(e=t==null?void 0:t.$el)!=null?e:t}const Xr=Gr?window:void 0;function nt(...r){let e,t,s,n;if(typeof r[0]=="string"||Array.isArray(r[0])?([t,s,n]=r,e=Xr):[e,t,s,n]=r,!e)return $t;Array.isArray(t)||(t=[t]),Array.isArray(s)||(s=[s]);const i=[],o=()=>{i.forEach(l=>l()),i.length=0},a=(l,f,p,y)=>(l.addEventListener(f,p,y),()=>l.removeEventListener(f,p,y)),c=_t(()=>[ye(e),Qr(n)],([l,f])=>{if(o(),!l)return;const p=Qo(f)?{...f}:f;i.push(...t.flatMap(y=>s.map(d=>a(l,y,d,p))))},{immediate:!0,flush:"post"}),u=()=>{c(),o()};return Vo(u),u}let nr=!1;function it(r,e,t={}){const{window:s=Xr,ignore:n=[],capture:i=!0,detectIframe:o=!1}=t;if(!s)return;Go&&!nr&&(nr=!0,Array.from(s.document.body.children).forEach(p=>p.addEventListener("click",$t)),s.document.documentElement.addEventListener("click",$t));let a=!0;const c=p=>n.some(y=>{if(typeof y=="string")return Array.from(s.document.querySelectorAll(y)).some(d=>d===p.target||p.composedPath().includes(d));{const d=ye(y);return d&&(p.target===d||p.composedPath().includes(d))}}),l=[nt(s,"click",p=>{const y=ye(r);if(!(!y||y===p.target||p.composedPath().includes(y))){if(p.detail===0&&(a=!c(p)),!a){a=!0;return}e(p)}},{passive:!0,capture:i}),nt(s,"pointerdown",p=>{const y=ye(r);y&&(a=!p.composedPath().includes(y)&&!c(p))},{passive:!0}),o&&nt(s,"blur",p=>{setTimeout(()=>{var y;const d=ye(r);((y=s.document.activeElement)==null?void 0:y.tagName)==="IFRAME"&&!(d!=null&&d.contains(s.document.activeElement))&&e(p)},0)})].filter(Boolean);return()=>l.forEach(p=>p())}const Zr=(r,e)=>{const t=r.__vccOpts||r;for(const[s,n]of e)t[s]=n;return t},Zo={},Yo={class:"loader"};function ea(r,e){const t=ur("fa-icon");return j(),z("div",Yo,[J(t,{icon:"fa-spinner",spin:"",size:"2x"})])}const ta=Zr(Zo,[["render",ea]]);const ra={},sa={class:"error"};function na(r,e){const t=ur("fa-icon");return j(),z("div",sa,[J(t,{icon:"fa-times",size:"2x"})])}const ia=Zr(ra,[["render",na]]);const oa={class:"sidebar"},aa={class:"sidebar-main"},ca={class:"sidebar-header"},la={key:0,class:"popup"},ua={key:0,class:"popup"},ha=T("code",null," query goes here ",-1),fa=[ha],da={class:"resource-desc"},pa={class:"sidebar-form"},ya={__name:"Sidebar",setup(r){const e=M(null),t=M(!1),s=M(!1),n=M(!1),i=M(null),o=M(null),a=M(null);it(i,()=>{t.value=!1,u.value.length===0&&(u.value=l.value.map(v=>v.value))}),it(o,()=>{s.value=!1}),it(a,()=>{n.value=!1});const c=re(Be),u=M([]),l=A(()=>{let v;const C=c.with("package");try{switch(e.value[0]){case"specimens":v=C.where("id",_=>["05ff2255-c38a-40c9-b657-4ccb55ab2feb","bb909597-dedf-427d-8c04-4c02b3a24db3"].includes(_)).get();break;case"media":v=C.where("imageField",_=>!!_).get();break;case"datasets":v=[];break;default:v=C.get()}}catch{v=[]}return setTimeout(()=>{u.value=v.map(_=>_.id)},0),v.map(_=>({label:_.name,value:_.id,group:_.package.title}))}),f=A(()=>{if(u.value.length!==0)return e.value&&e.value[0]==="specimens"&&u.value.length<=2?"searching in "+u.value.map(v=>c.find(v).name).join(" and "):`searching in ${u.value.length} resources`});function p(v){return ws({loader:()=>vs(()=>import(v),[],import.meta.url),loadingComponent:ta,delay:200,errorComponent:ia,timeout:1e4})}const y=p("./form/SpecimensAll.vue"),d=p("./form/SpecimensBot.vue"),m=p("./form/SpecimensEnt.vue"),E=p("./form/SpecimensMin.vue"),g=p("./form/SpecimensPal.vue"),b=p("./form/SpecimensZoo.vue"),I=p("./form/Unimplemented.vue"),D=A(()=>{try{if(e.value[0]==="specimens")switch(e.value[1]){case"all":return y;case"bot":return d;case"ent":return m;case"min":return E;case"pal":return g;case"zoo":return b;default:return I}else return I}catch{return I}});return(v,C)=>(j(),z("div",oa,[J(Wo,{modelValue:e.value,"onUpdate:modelValue":C[0]||(C[0]=_=>e.value=_)},null,8,["modelValue"]),T("div",aa,[T("div",ca,[T("div",{class:"button-popup help",ref_key:"helpPopup",ref:a},[J(oe(Ue),{size:"sm",modelValue:n.value,"onUpdate:modelValue":C[1]||(C[1]=_=>n.value=_),class:"toggle-button",kind:"alt"},{default:ze(()=>[He(" Help ")]),_:1},8,["modelValue"]),n.value?(j(),z("div",la,"help content")):ke("",!0)],512),T("div",{class:"button-popup query",ref_key:"queryPopup",ref:o},[J(oe(Ue),{size:"sm",modelValue:s.value,"onUpdate:modelValue":C[2]||(C[2]=_=>s.value=_),class:"toggle-button",kind:"alt"},{default:ze(()=>[He("Query ")]),_:1},8,["modelValue"]),s.value?(j(),z("div",ua,fa)):ke("",!0)],512),l.value.length>0?(j(),z(at,{key:0},[T("div",{class:"button-popup resources",ref_key:"resourcesPopup",ref:i},[J(oe(Ue),{size:"sm",modelValue:t.value,"onUpdate:modelValue":C[3]||(C[3]=_=>t.value=_),class:"toggle-button",kind:"alt"},{default:ze(()=>[He("Resources ")]),_:1},8,["modelValue"]),ct(J(oe(bs),{"zoa-type":"multiselect",label:"Select resources","label-position":"none",class:"popup",options:{options:l.value,itemName:"resource",enableSearch:!0},modelValue:u.value,"onUpdate:modelValue":C[4]||(C[4]=_=>u.value=_)},null,8,["options","modelValue"]),[[gs,t.value]])],512),T("span",da,Pe(f.value),1)],64)):ke("",!0)]),T("div",pa,[J(oe(D))])])]))}};const ma={class:"container"},ga={class:"results-container"},ba={__name:"App",setup(r){const e=Jr();e.init();const t=A(()=>JSON.stringify(e.rootGroup,null,2));return(s,n)=>(j(),z("div",ma,[J(ya),T("div",ga,[T("pre",null,Pe(t.value),1)])]))}};const wa=Os().use(Cn()),je=$s(ba);je.config.performance=!0;je.component("fa-icon",gi);je.use(wa);je.mount("#app");
